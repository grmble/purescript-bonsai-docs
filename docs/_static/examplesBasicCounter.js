var PS={};(function(exports){"use strict";exports._fmap=function(f,aff){return function(success,error){return aff(function(v){success(f(v))},error)}};exports._runAff=function(errorT,successT,aff){return function(){var status=0;var result,success;var canceler=aff(function(v){if(status===2){successT(v)()}else{status=1;result=v;success=true}},function(e){if(status===2){errorT(e)()}else{status=1;result=e;success=false}});if(status===1){if(success){successT(result)()}else{errorT(result)()}}else{status=2}return canceler}}})(PS["Control.Monad.Aff"]=PS["Control.Monad.Aff"]||{});(function(exports){"use strict";var Semigroupoid=function(compose){this.compose=compose};var semigroupoidFn=new Semigroupoid(function(f){return function(g){return function(x){return f(g(x))}}});var compose=function(dict){return dict.compose};exports["Semigroupoid"]=Semigroupoid;exports["compose"]=compose;exports["semigroupoidFn"]=semigroupoidFn})(PS["Control.Semigroupoid"]=PS["Control.Semigroupoid"]||{});(function(exports){"use strict";var Control_Semigroupoid=PS["Control.Semigroupoid"];var Category=function(Semigroupoid0,id){this.Semigroupoid0=Semigroupoid0;this.id=id};var id=function(dict){return dict.id};var categoryFn=new Category(function(){return Control_Semigroupoid.semigroupoidFn},function(x){return x});exports["Category"]=Category;exports["id"]=id;exports["categoryFn"]=categoryFn})(PS["Control.Category"]=PS["Control.Category"]||{});(function(exports){"use strict";var Control_Category=PS["Control.Category"];var flip=function(f){return function(b){return function(a){return f(a)(b)}}};var $$const=function(a){return function(v){return a}};exports["const"]=$$const;exports["flip"]=flip})(PS["Data.Function"]=PS["Data.Function"]||{});(function(exports){"use strict";exports.arrayMap=function(f){return function(arr){var l=arr.length;var result=new Array(l);for(var i=0;i<l;i++){result[i]=f(arr[i])}return result}}})(PS["Data.Functor"]=PS["Data.Functor"]||{});(function(exports){"use strict";exports.unit={}})(PS["Data.Unit"]=PS["Data.Unit"]||{});(function(exports){"use strict";exports.showIntImpl=function(n){return n.toString()}})(PS["Data.Show"]=PS["Data.Show"]||{});(function(exports){"use strict";var $foreign=PS["Data.Show"];var Show=function(show){this.show=show};var showInt=new Show($foreign.showIntImpl);var show=function(dict){return dict.show};exports["Show"]=Show;exports["show"]=show;exports["showInt"]=showInt})(PS["Data.Show"]=PS["Data.Show"]||{});(function(exports){"use strict";var $foreign=PS["Data.Unit"];var Data_Show=PS["Data.Show"];exports["unit"]=$foreign.unit})(PS["Data.Unit"]=PS["Data.Unit"]||{});(function(exports){"use strict";var $foreign=PS["Data.Functor"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Function=PS["Data.Function"];var Data_Unit=PS["Data.Unit"];var Functor=function(map){this.map=map};var map=function(dict){return dict.map};var functorFn=new Functor(Control_Semigroupoid.compose(Control_Semigroupoid.semigroupoidFn));var functorArray=new Functor($foreign.arrayMap);exports["Functor"]=Functor;exports["map"]=map;exports["functorFn"]=functorFn;exports["functorArray"]=functorArray})(PS["Data.Functor"]=PS["Data.Functor"]||{});(function(exports){"use strict";var $foreign=PS["Control.Apply"];var Control_Category=PS["Control.Category"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Apply=function(Functor0,apply){this.Functor0=Functor0;this.apply=apply};var apply=function(dict){return dict.apply};var applySecond=function(dictApply){return function(a){return function(b){return apply(dictApply)(Data_Functor.map(dictApply.Functor0())(Data_Function["const"](Control_Category.id(Control_Category.categoryFn)))(a))(b)}}};exports["Apply"]=Apply;exports["apply"]=apply;exports["applySecond"]=applySecond})(PS["Control.Apply"]=PS["Control.Apply"]||{});(function(exports){"use strict";var Control_Apply=PS["Control.Apply"];var Data_Functor=PS["Data.Functor"];var Data_Unit=PS["Data.Unit"];var Applicative=function(Apply0,pure){this.Apply0=Apply0;this.pure=pure};var pure=function(dict){return dict.pure};var liftA1=function(dictApplicative){return function(f){return function(a){return Control_Apply.apply(dictApplicative.Apply0())(pure(dictApplicative)(f))(a)}}};exports["Applicative"]=Applicative;exports["liftA1"]=liftA1;exports["pure"]=pure})(PS["Control.Applicative"]=PS["Control.Applicative"]||{});(function(exports){"use strict";var $foreign=PS["Control.Bind"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Category=PS["Control.Category"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_Unit=PS["Data.Unit"];var Bind=function(Apply0,bind){this.Apply0=Apply0;this.bind=bind};var Discard=function(discard){this.discard=discard};var discard=function(dict){return dict.discard};var bind=function(dict){return dict.bind};var bindFlipped=function(dictBind){return Data_Function.flip(bind(dictBind))};var discardUnit=new Discard(function(dictBind){return bind(dictBind)});exports["Bind"]=Bind;exports["Discard"]=Discard;exports["bind"]=bind;exports["bindFlipped"]=bindFlipped;exports["discard"]=discard;exports["discardUnit"]=discardUnit})(PS["Control.Bind"]=PS["Control.Bind"]||{});(function(exports){"use strict";var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Data_Functor=PS["Data.Functor"];var Data_Unit=PS["Data.Unit"];var Monad=function(Applicative0,Bind1){this.Applicative0=Applicative0;this.Bind1=Bind1};var ap=function(dictMonad){return function(f){return function(a){return Control_Bind.bind(dictMonad.Bind1())(f)(function(v){return Control_Bind.bind(dictMonad.Bind1())(a)(function(v1){return Control_Applicative.pure(dictMonad.Applicative0())(v(v1))})})}}};exports["Monad"]=Monad;exports["ap"]=ap})(PS["Control.Monad"]=PS["Control.Monad"]||{});(function(exports){"use strict";exports.pureE=function(a){return function(){return a}};exports.bindE=function(a){return function(f){return function(){return f(a())()}}}})(PS["Control.Monad.Eff"]=PS["Control.Monad.Eff"]||{});(function(exports){"use strict";var $foreign=PS["Control.Monad.Eff"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Data_Functor=PS["Data.Functor"];var Data_Unit=PS["Data.Unit"];var monadEff=new Control_Monad.Monad(function(){return applicativeEff},function(){return bindEff});var bindEff=new Control_Bind.Bind(function(){return applyEff},$foreign.bindE);var applyEff=new Control_Apply.Apply(function(){return functorEff},Control_Monad.ap(monadEff));var applicativeEff=new Control_Applicative.Applicative(function(){return applyEff},$foreign.pureE);var functorEff=new Data_Functor.Functor(Control_Applicative.liftA1(applicativeEff));exports["functorEff"]=functorEff;exports["applyEff"]=applyEff;exports["applicativeEff"]=applicativeEff;exports["bindEff"]=bindEff;exports["monadEff"]=monadEff})(PS["Control.Monad.Eff"]=PS["Control.Monad.Eff"]||{});(function(exports){"use strict";var Control_Category=PS["Control.Category"];var Control_Monad=PS["Control.Monad"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var MonadEff=function(Monad0,liftEff){this.Monad0=Monad0;this.liftEff=liftEff};var monadEffEff=new MonadEff(function(){return Control_Monad_Eff.monadEff},Control_Category.id(Control_Category.categoryFn));var liftEff=function(dict){return dict.liftEff};exports["MonadEff"]=MonadEff;exports["liftEff"]=liftEff;exports["monadEffEff"]=monadEffEff})(PS["Control.Monad.Eff.Class"]=PS["Control.Monad.Eff.Class"]||{});(function(exports){"use strict";exports.unsafeCoerceEff=function(f){return f}})(PS["Control.Monad.Eff.Unsafe"]=PS["Control.Monad.Eff.Unsafe"]||{});(function(exports){"use strict";var $foreign=PS["Control.Monad.Eff.Unsafe"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Semigroupoid=PS["Control.Semigroupoid"];exports["unsafeCoerceEff"]=$foreign.unsafeCoerceEff})(PS["Control.Monad.Eff.Unsafe"]=PS["Control.Monad.Eff.Unsafe"]||{});(function(exports){"use strict";exports.foldrArray=function(f){return function(init){return function(xs){var acc=init;var len=xs.length;for(var i=len-1;i>=0;i--){acc=f(xs[i])(acc)}return acc}}};exports.foldlArray=function(f){return function(init){return function(xs){var acc=init;var len=xs.length;for(var i=0;i<len;i++){acc=f(acc)(xs[i])}return acc}}}})(PS["Data.Foldable"]=PS["Data.Foldable"]||{});(function(exports){"use strict";exports.concatArray=function(xs){return function(ys){if(xs.length===0)return ys;if(ys.length===0)return xs;return xs.concat(ys)}}})(PS["Data.Semigroup"]=PS["Data.Semigroup"]||{});(function(exports){"use strict";var $foreign=PS["Data.Semigroup"];var Data_Unit=PS["Data.Unit"];var Data_Void=PS["Data.Void"];var Semigroup=function(append){this.append=append};var semigroupArray=new Semigroup($foreign.concatArray);var append=function(dict){return dict.append};exports["Semigroup"]=Semigroup;exports["append"]=append;exports["semigroupArray"]=semigroupArray})(PS["Data.Semigroup"]=PS["Data.Semigroup"]||{});(function(exports){"use strict";var Data_Boolean=PS["Data.Boolean"];var Data_Eq=PS["Data.Eq"];var Data_EuclideanRing=PS["Data.EuclideanRing"];var Data_Function=PS["Data.Function"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Unit=PS["Data.Unit"];var Prelude=PS["Prelude"];var Monoid=function(Semigroup0,mempty){this.Semigroup0=Semigroup0;this.mempty=mempty};var mempty=function(dict){return dict.mempty};exports["Monoid"]=Monoid;exports["mempty"]=mempty})(PS["Data.Monoid"]=PS["Data.Monoid"]||{});(function(exports){"use strict";var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Category=PS["Control.Category"];var Control_Extend=PS["Control.Extend"];var Control_Monad=PS["Control.Monad"];var Control_MonadZero=PS["Control.MonadZero"];var Control_Plus=PS["Control.Plus"];var Data_Bounded=PS["Data.Bounded"];var Data_Eq=PS["Data.Eq"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_Functor_Invariant=PS["Data.Functor.Invariant"];var Data_Monoid=PS["Data.Monoid"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Show=PS["Data.Show"];var Data_Unit=PS["Data.Unit"];var Prelude=PS["Prelude"];var Nothing=function(){function Nothing(){}Nothing.value=new Nothing;return Nothing}();var Just=function(){function Just(value0){this.value0=value0}Just.create=function(value0){return new Just(value0)};return Just}();exports["Nothing"]=Nothing;exports["Just"]=Just})(PS["Data.Maybe"]=PS["Data.Maybe"]||{});(function(exports){"use strict";var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Prelude=PS["Prelude"];var Newtype=function(unwrap,wrap){this.unwrap=unwrap;this.wrap=wrap};var wrap=function(dict){return dict.wrap};var unwrap=function(dict){return dict.unwrap};exports["Newtype"]=Newtype;exports["unwrap"]=unwrap;exports["wrap"]=wrap})(PS["Data.Newtype"]=PS["Data.Newtype"]||{});(function(exports){"use strict";var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Comonad=PS["Control.Comonad"];var Control_Extend=PS["Control.Extend"];var Control_Monad=PS["Control.Monad"];var Data_Bounded=PS["Data.Bounded"];var Data_Eq=PS["Data.Eq"];var Data_Functor=PS["Data.Functor"];var Data_Functor_Invariant=PS["Data.Functor.Invariant"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Ord=PS["Data.Ord"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Show=PS["Data.Show"];var Prelude=PS["Prelude"];var Dual=function(x){return x};var semigroupDual=function(dictSemigroup){return new Data_Semigroup.Semigroup(function(v){return function(v1){return Data_Semigroup.append(dictSemigroup)(v1)(v)}})};var newtypeDual=new Data_Newtype.Newtype(function(n){return n},Dual);var monoidDual=function(dictMonoid){return new Data_Monoid.Monoid(function(){return semigroupDual(dictMonoid.Semigroup0())},Data_Monoid.mempty(dictMonoid))};exports["Dual"]=Dual;exports["newtypeDual"]=newtypeDual;exports["semigroupDual"]=semigroupDual;exports["monoidDual"]=monoidDual})(PS["Data.Monoid.Dual"]=PS["Data.Monoid.Dual"]||{});(function(exports){"use strict";var Control_Category=PS["Control.Category"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Functor_Invariant=PS["Data.Functor.Invariant"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Semigroup=PS["Data.Semigroup"];var Prelude=PS["Prelude"];var Endo=function(x){return x};var semigroupEndo=new Data_Semigroup.Semigroup(function(v){return function(v1){return function($11){return v(v1($11))}}});var newtypeEndo=new Data_Newtype.Newtype(function(n){return n},Endo);var monoidEndo=new Data_Monoid.Monoid(function(){return semigroupEndo},Control_Category.id(Control_Category.categoryFn));exports["Endo"]=Endo;exports["newtypeEndo"]=newtypeEndo;exports["semigroupEndo"]=semigroupEndo;exports["monoidEndo"]=monoidEndo})(PS["Data.Monoid.Endo"]=PS["Data.Monoid.Endo"]||{});(function(exports){"use strict";var $foreign=PS["Data.Foldable"];var Control_Alt=PS["Control.Alt"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Category=PS["Control.Category"];var Control_Plus=PS["Control.Plus"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Eq=PS["Data.Eq"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Maybe=PS["Data.Maybe"];var Data_Maybe_First=PS["Data.Maybe.First"];var Data_Maybe_Last=PS["Data.Maybe.Last"];var Data_Monoid=PS["Data.Monoid"];var Data_Monoid_Additive=PS["Data.Monoid.Additive"];var Data_Monoid_Conj=PS["Data.Monoid.Conj"];var Data_Monoid_Disj=PS["Data.Monoid.Disj"];var Data_Monoid_Dual=PS["Data.Monoid.Dual"];var Data_Monoid_Endo=PS["Data.Monoid.Endo"];var Data_Monoid_Multiplicative=PS["Data.Monoid.Multiplicative"];var Data_Newtype=PS["Data.Newtype"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Semiring=PS["Data.Semiring"];var Data_Unit=PS["Data.Unit"];var Prelude=PS["Prelude"];var Foldable=function(foldMap,foldl,foldr){this.foldMap=foldMap;this.foldl=foldl;this.foldr=foldr};var foldr=function(dict){return dict.foldr};var traverse_=function(dictApplicative){return function(dictFoldable){return function(f){return foldr(dictFoldable)(function($184){return Control_Apply.applySecond(dictApplicative.Apply0())(f($184))})(Control_Applicative.pure(dictApplicative)(Data_Unit.unit))}}};var for_=function(dictApplicative){return function(dictFoldable){return Data_Function.flip(traverse_(dictApplicative)(dictFoldable))}};var foldl=function(dict){return dict.foldl};var foldMapDefaultR=function(dictFoldable){return function(dictMonoid){return function(f){return foldr(dictFoldable)(function(x){return function(acc){return Data_Semigroup.append(dictMonoid.Semigroup0())(f(x))(acc)}})(Data_Monoid.mempty(dictMonoid))}}};var foldableArray=new Foldable(function(dictMonoid){return foldMapDefaultR(foldableArray)(dictMonoid)},$foreign.foldlArray,$foreign.foldrArray);var foldMap=function(dict){return dict.foldMap};var foldlDefault=function(dictFoldable){return function(c){return function(u){return function(xs){return Data_Newtype.unwrap(Data_Monoid_Endo.newtypeEndo)(Data_Newtype.unwrap(Data_Monoid_Dual.newtypeDual)(foldMap(dictFoldable)(Data_Monoid_Dual.monoidDual(Data_Monoid_Endo.monoidEndo))(function($185){return Data_Monoid_Dual.Dual(Data_Monoid_Endo.Endo(Data_Function.flip(c)($185)))})(xs)))(u)}}}};var foldrDefault=function(dictFoldable){return function(c){return function(u){return function(xs){return Data_Newtype.unwrap(Data_Monoid_Endo.newtypeEndo)(foldMap(dictFoldable)(Data_Monoid_Endo.monoidEndo)(function($186){return Data_Monoid_Endo.Endo(c($186))})(xs))(u)}}}};exports["Foldable"]=Foldable;exports["foldMap"]=foldMap;exports["foldMapDefaultR"]=foldMapDefaultR;exports["foldl"]=foldl;exports["foldlDefault"]=foldlDefault;exports["foldr"]=foldr;exports["foldrDefault"]=foldrDefault;exports["for_"]=for_;exports["traverse_"]=traverse_;exports["foldableArray"]=foldableArray})(PS["Data.Foldable"]=PS["Data.Foldable"]||{});(function(exports){"use strict";var Control_Alt=PS["Control.Alt"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Extend=PS["Control.Extend"];var Control_Monad=PS["Control.Monad"];var Data_Bifoldable=PS["Data.Bifoldable"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Bitraversable=PS["Data.Bitraversable"];var Data_Bounded=PS["Data.Bounded"];var Data_Eq=PS["Data.Eq"];var Data_Foldable=PS["Data.Foldable"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_Functor_Invariant=PS["Data.Functor.Invariant"];var Data_Maybe=PS["Data.Maybe"];var Data_Monoid=PS["Data.Monoid"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Semiring=PS["Data.Semiring"];var Data_Show=PS["Data.Show"];var Data_Traversable=PS["Data.Traversable"];var Prelude=PS["Prelude"];var Left=function(){function Left(value0){this.value0=value0}Left.create=function(value0){return new Left(value0)};return Left}();var Right=function(){function Right(value0){this.value0=value0}Right.create=function(value0){return new Right(value0)};return Right}();var functorEither=new Data_Functor.Functor(function(v){return function(v1){if(v1 instanceof Left){return new Left(v1.value0)}if(v1 instanceof Right){return new Right(v(v1.value0))}throw new Error("Failed pattern match at Data.Either line 36, column 1 - line 36, column 45: "+[v.constructor.name,v1.constructor.name])}});exports["Left"]=Left;exports["Right"]=Right;exports["functorEither"]=functorEither})(PS["Data.Either"]=PS["Data.Either"]||{});(function(exports){"use strict";var Control_Alt=PS["Control.Alt"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Comonad=PS["Control.Comonad"];var Control_Extend=PS["Control.Extend"];var Control_Lazy=PS["Control.Lazy"];var Control_Monad=PS["Control.Monad"];var Data_BooleanAlgebra=PS["Data.BooleanAlgebra"];var Data_Bounded=PS["Data.Bounded"];var Data_CommutativeRing=PS["Data.CommutativeRing"];var Data_Eq=PS["Data.Eq"];var Data_EuclideanRing=PS["Data.EuclideanRing"];var Data_Field=PS["Data.Field"];var Data_Foldable=PS["Data.Foldable"];var Data_Functor=PS["Data.Functor"];var Data_Functor_Invariant=PS["Data.Functor.Invariant"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Ord=PS["Data.Ord"];var Data_Ring=PS["Data.Ring"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Semiring=PS["Data.Semiring"];var Data_Show=PS["Data.Show"];var Data_Traversable=PS["Data.Traversable"];var Prelude=PS["Prelude"];var Identity=function(x){return x};var functorIdentity=new Data_Functor.Functor(function(f){return function(v){return f(v)}});var applyIdentity=new Control_Apply.Apply(function(){return functorIdentity},function(v){return function(v1){return v(v1)}});var bindIdentity=new Control_Bind.Bind(function(){return applyIdentity},function(v){return function(f){return f(v)}});var applicativeIdentity=new Control_Applicative.Applicative(function(){return applyIdentity},Identity);var monadIdentity=new Control_Monad.Monad(function(){return applicativeIdentity},function(){return bindIdentity});exports["Identity"]=Identity;exports["functorIdentity"]=functorIdentity;exports["applyIdentity"]=applyIdentity;exports["applicativeIdentity"]=applicativeIdentity;exports["bindIdentity"]=bindIdentity;exports["monadIdentity"]=monadIdentity})(PS["Data.Identity"]=PS["Data.Identity"]||{});(function(exports){"use strict";var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Unsafe=PS["Control.Monad.Eff.Unsafe"];var Control_Monad_ST=PS["Control.Monad.ST"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Either=PS["Data.Either"];var Data_Functor=PS["Data.Functor"];var Data_Identity=PS["Data.Identity"];var Data_Maybe=PS["Data.Maybe"];var Data_Unit=PS["Data.Unit"];var Partial_Unsafe=PS["Partial.Unsafe"];var Prelude=PS["Prelude"];var Loop=function(){function Loop(value0){this.value0=value0}Loop.create=function(value0){return new Loop(value0)};return Loop}();var Done=function(){function Done(value0){this.value0=value0}Done.create=function(value0){return new Done(value0)};return Done}();var MonadRec=function(Monad0,tailRecM){this.Monad0=Monad0;this.tailRecM=tailRecM};var tailRecM=function(dict){return dict.tailRecM};var tailRec=function(f){var go=function($copy_v){var $tco_done=false;var $tco_result;function $tco_loop(v){if(v instanceof Loop){$copy_v=f(v.value0);return}if(v instanceof Done){$tco_done=true;return v.value0}throw new Error("Failed pattern match at Control.Monad.Rec.Class line 96, column 3 - line 96, column 25: "+[v.constructor.name])}while(!$tco_done){$tco_result=$tco_loop($copy_v)}return $tco_result};return function($53){return go(f($53))}};var monadRecIdentity=new MonadRec(function(){return Data_Identity.monadIdentity},function(f){var runIdentity=function(v){return v};return function($54){return Data_Identity.Identity(tailRec(function($55){return runIdentity(f($55))})($54))}});exports["Loop"]=Loop;exports["Done"]=Done;exports["MonadRec"]=MonadRec;exports["tailRec"]=tailRec;exports["tailRecM"]=tailRecM;exports["monadRecIdentity"]=monadRecIdentity})(PS["Control.Monad.Rec.Class"]=PS["Control.Monad.Rec.Class"]||{});(function(exports){"use strict";exports.runFn2=function(fn){return function(a){return function(b){return fn(a,b)}}};exports.runFn3=function(fn){return function(a){return function(b){return function(c){return fn(a,b,c)}}}}})(PS["Data.Function.Uncurried"]=PS["Data.Function.Uncurried"]||{});(function(exports){"use strict";var $foreign=PS["Data.Function.Uncurried"];var Data_Unit=PS["Data.Unit"];exports["runFn2"]=$foreign.runFn2;exports["runFn3"]=$foreign.runFn3})(PS["Data.Function.Uncurried"]=PS["Data.Function.Uncurried"]||{});(function(exports){"use strict";var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Biapplicative=PS["Control.Biapplicative"];var Control_Biapply=PS["Control.Biapply"];var Control_Bind=PS["Control.Bind"];var Control_Comonad=PS["Control.Comonad"];var Control_Extend=PS["Control.Extend"];var Control_Lazy=PS["Control.Lazy"];var Control_Monad=PS["Control.Monad"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Bifoldable=PS["Data.Bifoldable"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Bitraversable=PS["Data.Bitraversable"];var Data_BooleanAlgebra=PS["Data.BooleanAlgebra"];var Data_Bounded=PS["Data.Bounded"];var Data_CommutativeRing=PS["Data.CommutativeRing"];var Data_Distributive=PS["Data.Distributive"];var Data_Eq=PS["Data.Eq"];var Data_Foldable=PS["Data.Foldable"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_Functor_Invariant=PS["Data.Functor.Invariant"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Maybe=PS["Data.Maybe"];var Data_Maybe_First=PS["Data.Maybe.First"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Ring=PS["Data.Ring"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Semiring=PS["Data.Semiring"];var Data_Show=PS["Data.Show"];var Data_Traversable=PS["Data.Traversable"];var Data_Unit=PS["Data.Unit"];var Prelude=PS["Prelude"];var Type_Equality=PS["Type.Equality"];var Tuple=function(){function Tuple(value0,value1){this.value0=value0;this.value1=value1}Tuple.create=function(value0){return function(value1){return new Tuple(value0,value1)}};return Tuple}();exports["Tuple"]=Tuple})(PS["Data.Tuple"]=PS["Data.Tuple"]||{});(function(exports){"use strict";exports.unsafeCoerce=function(x){return x}})(PS["Unsafe.Coerce"]=PS["Unsafe.Coerce"]||{});(function(exports){"use strict";var $foreign=PS["Unsafe.Coerce"];exports["unsafeCoerce"]=$foreign.unsafeCoerce})(PS["Unsafe.Coerce"]=PS["Unsafe.Coerce"]||{});(function(exports){"use strict";var $foreign=PS["Control.Monad.Aff"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Control_Monad_Aff_Internal=PS["Control.Monad.Aff.Internal"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Error_Class=PS["Control.Monad.Error.Class"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_MonadPlus=PS["Control.MonadPlus"];var Control_MonadZero=PS["Control.MonadZero"];var Control_Parallel=PS["Control.Parallel"];var Control_Parallel_Class=PS["Control.Parallel.Class"];var Control_Plus=PS["Control.Plus"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Either=PS["Data.Either"];var Data_Eq=PS["Data.Eq"];var Data_Foldable=PS["Data.Foldable"];var Data_Function=PS["Data.Function"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];var Data_Functor=PS["Data.Functor"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Semiring=PS["Data.Semiring"];var Data_Time_Duration=PS["Data.Time.Duration"];var Data_Tuple=PS["Data.Tuple"];var Data_Unit=PS["Data.Unit"];var Prelude=PS["Prelude"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var runAff=function(ex){return function(f){return function(aff){return $foreign._runAff(ex,f,aff)}}};var functorAff=new Data_Functor.Functor(function(f){return function(fa){return $foreign._fmap(f,fa)}});exports["runAff"]=runAff;exports["functorAff"]=functorAff})(PS["Control.Monad.Aff"]=PS["Control.Monad.Aff"]||{});(function(exports){"use strict";exports.fromFoldableImpl=function(){function Cons(head,tail){this.head=head;this.tail=tail}var emptyList={};function curryCons(head){return function(tail){return new Cons(head,tail)}}function listToArray(list){var result=[];var count=0;var xs=list;while(xs!==emptyList){result[count++]=xs.head;xs=xs.tail}return result}return function(foldr){return function(xs){return listToArray(foldr(curryCons)(emptyList)(xs))}}}();exports.length=function(xs){return xs.length};exports.snoc=function(l){return function(e){var l1=l.slice();l1.push(e);return l1}};exports.slice=function(s){return function(e){return function(l){return l.slice(s,e)}}}})(PS["Data.Array"]=PS["Data.Array"]||{});(function(exports){"use strict";var $foreign=PS["Data.Array"];var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Category=PS["Control.Category"];var Control_Lazy=PS["Control.Lazy"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_Monad_ST=PS["Control.Monad.ST"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Array_ST=PS["Data.Array.ST"];var Data_Array_ST_Iterator=PS["Data.Array.ST.Iterator"];var Data_Boolean=PS["Data.Boolean"];var Data_Eq=PS["Data.Eq"];var Data_Foldable=PS["Data.Foldable"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Maybe=PS["Data.Maybe"];var Data_NonEmpty=PS["Data.NonEmpty"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Ring=PS["Data.Ring"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Semiring=PS["Data.Semiring"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Data_Unfoldable=PS["Data.Unfoldable"];var Partial_Unsafe=PS["Partial.Unsafe"];var Prelude=PS["Prelude"];var $$null=function(xs){return $foreign.length(xs)===0};var fromFoldable=function(dictFoldable){return $foreign.fromFoldableImpl(Data_Foldable.foldr(dictFoldable))};exports["fromFoldable"]=fromFoldable;exports["null"]=$$null;exports["length"]=$foreign.length;exports["slice"]=$foreign.slice;exports["snoc"]=$foreign.snoc})(PS["Data.Array"]=PS["Data.Array"]||{});(function(exports){"use strict";var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Category=PS["Control.Category"];var Control_Comonad=PS["Control.Comonad"];var Control_Extend=PS["Control.Extend"];var Control_Monad=PS["Control.Monad"];var Control_MonadPlus=PS["Control.MonadPlus"];var Control_MonadZero=PS["Control.MonadZero"];var Control_Plus=PS["Control.Plus"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Eq=PS["Data.Eq"];var Data_Foldable=PS["Data.Foldable"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Maybe=PS["Data.Maybe"];var Data_Monoid=PS["Data.Monoid"];var Data_Newtype=PS["Data.Newtype"];var Data_NonEmpty=PS["Data.NonEmpty"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Semigroup_Foldable=PS["Data.Semigroup.Foldable"];var Data_Semigroup_Traversable=PS["Data.Semigroup.Traversable"];var Data_Show=PS["Data.Show"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Data_Unfoldable=PS["Data.Unfoldable"];var Prelude=PS["Prelude"];var Nil=function(){function Nil(){}Nil.value=new Nil;return Nil}();var Cons=function(){function Cons(value0,value1){this.value0=value0;this.value1=value1}Cons.create=function(value0){return function(value1){return new Cons(value0,value1)}};return Cons}();exports["Nil"]=Nil;exports["Cons"]=Cons})(PS["Data.List.Types"]=PS["Data.List.Types"]||{});(function(exports){"use strict";var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Except=PS["Control.Monad.Except"];var Data_Array=PS["Data.Array"];var Data_Either=PS["Data.Either"];var Data_Foldable=PS["Data.Foldable"];var Data_Foreign=PS["Data.Foreign"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_List_Types=PS["Data.List.Types"];var Data_Monoid=PS["Data.Monoid"];var Prelude=PS["Prelude"];var Cmd=function(){function Cmd(value0){this.value0=value0}Cmd.create=function(value0){return new Cmd(value0)};return Cmd}();var TaskCmd=function(){function TaskCmd(value0){this.value0=value0}TaskCmd.create=function(value0){return new TaskCmd(value0)};return TaskCmd}();var pureCommand=function(msg){return new Cmd([msg])};var mapTask=function(f){return function(ta){return function(contextB){var emitA=function(as){return contextB.emitter(Data_Functor.map(Data_Functor.functorArray)(f)(as))};var contextA=function(){var $4={};for(var $5 in contextB){if({}.hasOwnProperty.call(contextB,$5)){$4[$5]=contextB[$5]}}$4.emitter=emitA;return $4}();return Data_Functor.map(Control_Monad_Aff.functorAff)(Data_Functor.map(Data_Functor.functorArray)(f))(ta(contextA))}}};var emptyCommand=new Cmd([]);
var cmdFunctor=new Data_Functor.Functor(function(f){return function(v){if(v instanceof Cmd){return Cmd.create(Data_Functor.map(Data_Functor.functorArray)(f)(v.value0))}if(v instanceof TaskCmd){return TaskCmd.create(mapTask(f)(v.value0))}throw new Error("Failed pattern match at Bonsai.Types line 54, column 1 - line 54, column 41: "+[f.constructor.name,v.constructor.name])}});exports["Cmd"]=Cmd;exports["TaskCmd"]=TaskCmd;exports["emptyCommand"]=emptyCommand;exports["pureCommand"]=pureCommand;exports["cmdFunctor"]=cmdFunctor})(PS["Bonsai.Types"]=PS["Bonsai.Types"]||{});(function(exports){"use strict";exports.window=function(){return window}})(PS["DOM.HTML"]=PS["DOM.HTML"]||{});(function(exports){"use strict";var DOM_Event_Types=PS["DOM.Event.Types"];var DOM_Util_FFI=PS["DOM.Util.FFI"];var Data_Eq=PS["Data.Eq"];var Data_Foreign=PS["Data.Foreign"];var Data_Newtype=PS["Data.Newtype"];var Data_Ord=PS["Data.Ord"];var Prelude=PS["Prelude"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var elementToNode=Unsafe_Coerce.unsafeCoerce;var documentToNonElementParentNode=Unsafe_Coerce.unsafeCoerce;exports["documentToNonElementParentNode"]=documentToNonElementParentNode;exports["elementToNode"]=elementToNode})(PS["DOM.Node.Types"]=PS["DOM.Node.Types"]||{});(function(exports){"use strict";var $foreign=PS["DOM.HTML.Types"];var Control_Applicative=PS["Control.Applicative"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var DOM_Event_Types=PS["DOM.Event.Types"];var DOM_Node_Types=PS["DOM.Node.Types"];var Data_Either=PS["Data.Either"];var Data_Foreign=PS["Data.Foreign"];var Data_Identity=PS["Data.Identity"];var Data_List_Types=PS["Data.List.Types"];var Prelude=PS["Prelude"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var htmlDocumentToDocument=Unsafe_Coerce.unsafeCoerce;exports["htmlDocumentToDocument"]=htmlDocumentToDocument})(PS["DOM.HTML.Types"]=PS["DOM.HTML.Types"]||{});(function(exports){"use strict";var $foreign=PS["DOM.HTML"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var DOM=PS["DOM"];var DOM_HTML_Types=PS["DOM.HTML.Types"];exports["window"]=$foreign.window})(PS["DOM.HTML"]=PS["DOM.HTML"]||{});(function(exports){"use strict";exports.document=function(window){return function(){return window.document}};exports._requestAnimationFrame=function(fn){return function(window){return function(){return window.requestAnimationFrame(fn)}}}})(PS["DOM.HTML.Window"]=PS["DOM.HTML.Window"]||{});(function(exports){"use strict";exports.nullable=function(a,r,f){return a==null?r:f(a)}})(PS["Data.Nullable"]=PS["Data.Nullable"]||{});(function(exports){"use strict";var $foreign=PS["Data.Nullable"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Eq=PS["Data.Eq"];var Data_Function=PS["Data.Function"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];var Data_Maybe=PS["Data.Maybe"];var Data_Ord=PS["Data.Ord"];var Data_Show=PS["Data.Show"];var Prelude=PS["Prelude"];var toMaybe=function(n){return $foreign.nullable(n,Data_Maybe.Nothing.value,Data_Maybe.Just.create)};exports["toMaybe"]=toMaybe})(PS["Data.Nullable"]=PS["Data.Nullable"]||{});(function(exports){"use strict";var $foreign=PS["DOM.HTML.Window"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var DOM=PS["DOM"];var DOM_HTML_Types=PS["DOM.HTML.Types"];var DOM_WebStorage_Types=PS["DOM.WebStorage.Types"];var Data_Eq=PS["Data.Eq"];var Data_Functor=PS["Data.Functor"];var Data_Maybe=PS["Data.Maybe"];var Data_Newtype=PS["Data.Newtype"];var Data_Nullable=PS["Data.Nullable"];var Data_Ord=PS["Data.Ord"];var Prelude=PS["Prelude"];var RequestAnimationFrameId=function(x){return x};var requestAnimationFrame=function(fn){return function($31){return Data_Functor.map(Control_Monad_Eff.functorEff)(RequestAnimationFrameId)($foreign._requestAnimationFrame(fn)($31))}};exports["requestAnimationFrame"]=requestAnimationFrame;exports["document"]=$foreign.document})(PS["DOM.HTML.Window"]=PS["DOM.HTML.Window"]||{});(function(exports){"use strict";exports._getElementById=function(id){return function(node){return function(){return node.getElementById(id)}}}})(PS["DOM.Node.NonElementParentNode"]=PS["DOM.Node.NonElementParentNode"]||{});(function(exports){"use strict";var $foreign=PS["DOM.Node.NonElementParentNode"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var DOM=PS["DOM"];var DOM_Node_Types=PS["DOM.Node.Types"];var Data_Functor=PS["Data.Functor"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Prelude=PS["Prelude"];var getElementById=function(eid){return function($0){return Data_Functor.map(Control_Monad_Eff.functorEff)(Data_Nullable.toMaybe)($foreign._getElementById(eid)($0))}};exports["getElementById"]=getElementById})(PS["DOM.Node.NonElementParentNode"]=PS["DOM.Node.NonElementParentNode"]||{});(function(exports){"use strict";var Bonsai_Types=PS["Bonsai.Types"];var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Error_Class=PS["Control.Monad.Error.Class"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var DOM=PS["DOM"];var DOM_HTML=PS["DOM.HTML"];var DOM_HTML_HTMLElement=PS["DOM.HTML.HTMLElement"];var DOM_HTML_HTMLInputElement=PS["DOM.HTML.HTMLInputElement"];var DOM_HTML_Types=PS["DOM.HTML.Types"];var DOM_HTML_Window=PS["DOM.HTML.Window"];var DOM_Node_NonElementParentNode=PS["DOM.Node.NonElementParentNode"];var DOM_Node_Types=PS["DOM.Node.Types"];var Data_Function=PS["Data.Function"];var Data_Maybe=PS["Data.Maybe"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Time_Duration=PS["Data.Time.Duration"];var Prelude=PS["Prelude"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var domRequestAnimationFrame=function(eff){return function __do(){var v=DOM_HTML.window();return DOM_HTML_Window.requestAnimationFrame(eff)(v)()}};var domElementById=function(id){return function __do(){var $10=Control_Bind.bind(Control_Monad_Eff.bindEff)(DOM_HTML.window)(DOM_HTML_Window.document)();return DOM_Node_NonElementParentNode.getElementById(id)(DOM_Node_Types.documentToNonElementParentNode(DOM_HTML_Types.htmlDocumentToDocument($10)))()}};exports["domElementById"]=domElementById;exports["domRequestAnimationFrame"]=domRequestAnimationFrame})(PS["Bonsai.DOM"]=PS["Bonsai.DOM"]||{});(function(exports){"use strict";var req=typeof module==="undefined"?undefined:module.require;var util=req===undefined?undefined:req("util");exports.logJsonObj=function(msg){return function(obj){return function(){if(util!==undefined){console.log(msg,JSON.stringify(obj),util.inspect(obj,{depth:null,colors:true}))}else{console.log(msg,JSON.stringify(obj),obj)}return obj}}};exports.startTiming=function(){return new Date};exports.logTiming=function(msg){return function(start){return function(){var end=new Date;console.log(msg+" "+(end-start)+"ms")}}}})(PS["Bonsai.Debug"]=PS["Bonsai.Debug"]||{});(function(exports){"use strict";var $foreign=PS["Bonsai.Debug"];var Control_Applicative=PS["Control.Applicative"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Console=PS["Control.Monad.Eff.Console"];var Data_Foreign=PS["Data.Foreign"];var Data_Unit=PS["Data.Unit"];var Prelude=PS["Prelude"];var debugTiming=function(dbg){return function(msg){return function(start){if(dbg){return $foreign.logTiming(msg)(start)}return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)}}};var debugJsonObj=function(dbg){return function(msg){return function(obj){if(dbg){return $foreign.logJsonObj(msg)(obj)}return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)}}};exports["debugJsonObj"]=debugJsonObj;exports["debugTiming"]=debugTiming;exports["logJsonObj"]=$foreign.logJsonObj;exports["startTiming"]=$foreign.startTiming})(PS["Bonsai.Debug"]=PS["Bonsai.Debug"]||{});(function(exports){"use strict";const STYLE_KEY="STYLE";const EVENT_KEY="EVENT";const ATTR_KEY="ATTR";const ATTR_NS_KEY="ATTR_NS";const localDoc=typeof document!=="undefined"?document:{};function text(string){return{type:"text",text:string}}function nodeHelp(tag,factList,kidList){var organized=organizeFacts(factList);var namespace=organized.namespace;var facts=organized.facts;var children=[];var descendantsCount=0;for(var i=0;i<kidList.length;i++){var kid=kidList[i];descendantsCount+=kid.descendantsCount||0;children.push(kid)}descendantsCount+=children.length;return{type:"node",tag:tag,facts:facts,children:children,namespace:namespace,descendantsCount:descendantsCount}}function keyedNode(tag,factList,kidList){var organized=organizeFacts(factList);var namespace=organized.namespace;var facts=organized.facts;var children=[];var descendantsCount=0;for(var i=0;i<kidList.length;i++){var kid=kidList[i];descendantsCount+=kid.value1.descendantsCount||0;children.push(kid)}descendantsCount+=children.length;return{type:"keyed-node",tag:tag,facts:facts,children:children,namespace:namespace,descendantsCount:descendantsCount}}function custom(factList,model,impl){var facts=organizeFacts(factList).facts;return{type:"custom",facts:facts,model:model,impl:impl}}function map(tagger,node){return{type:"tagger",tagger:tagger,node:node,descendantsCount:1+(node.descendantsCount||0)}}function thunk(func,args,thunk){return{type:"thunk",func:func,args:args,thunk:thunk,node:undefined}}function lazy(fn,a){return thunk(fn,[a],function(){return fn(a)})}function lazy2(fn,a,b){return thunk(fn,[a,b],function(){return A2(fn,a,b)})}function lazy3(fn,a,b,c){return thunk(fn,[a,b,c],function(){return A3(fn,a,b,c)})}function organizeFacts(factList){var namespace,facts={};for(var i=0;i<factList.length;i++){var entry=factList[i];var key=entry.key;if(key===ATTR_KEY||key===ATTR_NS_KEY||key===EVENT_KEY){var subFacts=facts[key]||{};subFacts[entry.realKey]=entry.value;facts[key]=subFacts}else if(key===STYLE_KEY){var styles=facts[key]||{};var styleList=entry.value;for(var j=0;j<styleList.length;j++){var style=styleList[j];styles[style.value0]=style.value1}facts[key]=styles}else if(key==="namespace"){namespace=entry.value}else if(key==="className"){var classes=facts[key];facts[key]=typeof classes==="undefined"?entry.value:classes+" "+entry.value}else{facts[key]=entry.value}}return{facts:facts,namespace:namespace}}function style(value){return{key:STYLE_KEY,value:value}}function property(key,value){return{key:key,value:value}}function attribute(key,value){return{key:ATTR_KEY,realKey:key,value:value}}function attributeNS(namespace,key,value){return{key:ATTR_NS_KEY,realKey:key,value:{value:value,namespace:namespace}}}function on(name,options,decoder){return{key:EVENT_KEY,realKey:name,value:{options:options,decoder:decoder}}}function equalEvents(a,b){if(a.options!==b.options){if(a.options.stopPropagation!==b.options.stopPropagation||a.options.preventDefault!==b.options.preventDefault){return false}}return a.decoder===b.decoder}function mapProperty(decodeMapper,func,property){if(property.key!==EVENT_KEY){return property}return on(property.realKey,property.value.options,decodeMapper(func)(property.value.decoder))}function render(vNode,eventNode){switch(vNode.type){case"thunk":if(!vNode.node){vNode.node=vNode.thunk()}return render(vNode.node,eventNode);case"tagger":var subNode=vNode.node;var tagger=vNode.tagger;while(subNode.type==="tagger"){typeof tagger!=="object"?tagger=[tagger,subNode.tagger]:tagger.push(subNode.tagger);subNode=subNode.node}var subEventRoot={tagger:tagger,parent:eventNode};var domNode=render(subNode,subEventRoot);domNode.elm_event_node_ref=subEventRoot;return domNode;case"text":return localDoc.createTextNode(vNode.text);case"node":var domNode=vNode.namespace?localDoc.createElementNS(vNode.namespace,vNode.tag):localDoc.createElement(vNode.tag);applyFacts(domNode,eventNode,vNode.facts);var children=vNode.children;for(var i=0;i<children.length;i++){domNode.appendChild(render(children[i],eventNode))}return domNode;case"keyed-node":var domNode=vNode.namespace?localDoc.createElementNS(vNode.namespace,vNode.tag):localDoc.createElement(vNode.tag);applyFacts(domNode,eventNode,vNode.facts);var children=vNode.children;for(var i=0;i<children.length;i++){domNode.appendChild(render(children[i].value1,eventNode))}return domNode;case"custom":var domNode=vNode.impl.render(vNode.model);applyFacts(domNode,eventNode,vNode.facts);return domNode}}function applyFacts(domNode,eventNode,facts){for(var key in facts){var value=facts[key];switch(key){case STYLE_KEY:applyStyles(domNode,value);break;case EVENT_KEY:applyEvents(domNode,eventNode,value);break;case ATTR_KEY:applyAttrs(domNode,value);break;case ATTR_NS_KEY:applyAttrsNS(domNode,value);break;case"value":if(domNode[key]!==value){domNode[key]=value}break;default:domNode[key]=value;break}}}function applyStyles(domNode,styles){var domNodeStyle=domNode.style;for(var key in styles){domNodeStyle[key]=styles[key]}}function applyEvents(domNode,eventNode,events){var allHandlers=domNode.elm_handlers||{};for(var key in events){var handler=allHandlers[key];var value=events[key];if(typeof value==="undefined"){domNode.removeEventListener(key,handler);allHandlers[key]=undefined}else if(typeof handler==="undefined"){var handler=makeEventHandler(eventNode,value);domNode.addEventListener(key,handler);allHandlers[key]=handler}else{handler.info=value}}domNode.elm_handlers=allHandlers}function makeEventHandler(eventNode,info){function eventHandler(event){var info=eventHandler.info;var value=info.decoder(event);if(true){var options=info.options;if(options.stopPropagation){event.stopPropagation()}if(options.preventDefault){event.preventDefault()}var message=value;var currentEventNode=eventNode;var tn=topEventNode(eventNode);var emitter=tn.emitter;var cmdMap=tn.cmdMap;while(currentEventNode){var tagger=currentEventNode.tagger;emitter=currentEventNode.emitter;if(typeof tagger==="function"){message=cmdMap(tagger)(message)}else if(typeof tagger==="object"){for(var i=tagger.length;i--;){message=cmdMap(tagger[i])(message)}}currentEventNode=currentEventNode.parent}if(emitter(message)()){console.log("event that triggered error: ",event)}}}eventHandler.info=info;return eventHandler}function applyAttrs(domNode,attrs){for(var key in attrs){var value=attrs[key];if(typeof value==="undefined"){domNode.removeAttribute(key)}else{domNode.setAttribute(key,value)}}}function applyAttrsNS(domNode,nsAttrs){for(var key in nsAttrs){var pair=nsAttrs[key];var namespace=pair.namespace;var value=pair.value;if(typeof value==="undefined"){domNode.removeAttributeNS(namespace,key)}else{domNode.setAttributeNS(namespace,key,value)}}}function diff(a,b){var patches=[];diffHelp(a,b,patches,0);return patches}function makePatch(type,index,data){return{index:index,type:type,data:data,domNode:undefined,eventNode:undefined}}function diffHelp(a,b,patches,index){if(a===b){return}var aType=a.type;var bType=b.type;if(aType!==bType){patches.push(makePatch("p-redraw",index,b));return}switch(bType){case"thunk":var aArgs=a.args;var bArgs=b.args;var i=aArgs.length;var same=a.func===b.func&&i===bArgs.length;while(same&&i--){same=aArgs[i]===bArgs[i]}if(same){b.node=a.node;return}b.node=b.thunk();var subPatches=[];diffHelp(a.node,b.node,subPatches,0);if(subPatches.length>0){patches.push(makePatch("p-thunk",index,subPatches))}return;case"tagger":var aTaggers=a.tagger;var bTaggers=b.tagger;var nesting=false;var aSubNode=a.node;while(aSubNode.type==="tagger"){nesting=true;typeof aTaggers!=="object"?aTaggers=[aTaggers,aSubNode.tagger]:aTaggers.push(aSubNode.tagger);aSubNode=aSubNode.node}var bSubNode=b.node;while(bSubNode.type==="tagger"){nesting=true;typeof bTaggers!=="object"?bTaggers=[bTaggers,bSubNode.tagger]:bTaggers.push(bSubNode.tagger);bSubNode=bSubNode.node}if(nesting&&aTaggers.length!==bTaggers.length){patches.push(makePatch("p-redraw",index,b));return}if(nesting?!pairwiseRefEqual(aTaggers,bTaggers):aTaggers!==bTaggers){patches.push(makePatch("p-tagger",index,bTaggers))}diffHelp(aSubNode,bSubNode,patches,index+1);return;case"text":if(a.text!==b.text){patches.push(makePatch("p-text",index,b.text));return}return;case"node":if(a.tag!==b.tag||a.namespace!==b.namespace){patches.push(makePatch("p-redraw",index,b));return}var factsDiff=diffFacts(a.facts,b.facts);if(typeof factsDiff!=="undefined"){patches.push(makePatch("p-facts",index,factsDiff))}diffChildren(a,b,patches,index);return;case"keyed-node":if(a.tag!==b.tag||a.namespace!==b.namespace){patches.push(makePatch("p-redraw",index,b));return}var factsDiff=diffFacts(a.facts,b.facts);if(typeof factsDiff!=="undefined"){patches.push(makePatch("p-facts",index,factsDiff))}diffKeyedChildren(a,b,patches,index);return;case"custom":if(a.impl!==b.impl){patches.push(makePatch("p-redraw",index,b));return}var factsDiff=diffFacts(a.facts,b.facts);if(typeof factsDiff!=="undefined"){patches.push(makePatch("p-facts",index,factsDiff))}var patch=b.impl.diff(a,b);if(patch){patches.push(makePatch("p-custom",index,patch));return}return}}function pairwiseRefEqual(as,bs){for(var i=0;i<as.length;i++){if(as[i]!==bs[i]){return false}}return true}function diffFacts(a,b,category){var diff;for(var aKey in a){if(aKey===STYLE_KEY||aKey===EVENT_KEY||aKey===ATTR_KEY||aKey===ATTR_NS_KEY){var subDiff=diffFacts(a[aKey],b[aKey]||{},aKey);if(subDiff){diff=diff||{};diff[aKey]=subDiff}continue}if(!(aKey in b)){diff=diff||{};diff[aKey]=typeof category==="undefined"?typeof a[aKey]==="string"?"":null:category===STYLE_KEY?"":category===EVENT_KEY||category===ATTR_KEY?undefined:{namespace:a[aKey].namespace,value:undefined};continue}var aValue=a[aKey];var bValue=b[aKey];if(aValue===bValue&&aKey!=="value"||category===EVENT_KEY&&equalEvents(aValue,bValue)){continue}diff=diff||{};diff[aKey]=bValue}for(var bKey in b){if(!(bKey in a)){diff=diff||{};diff[bKey]=b[bKey]}}return diff}function diffChildren(aParent,bParent,patches,rootIndex){var aChildren=aParent.children;var bChildren=bParent.children;var aLen=aChildren.length;var bLen=bChildren.length;if(aLen>bLen){patches.push(makePatch("p-remove-last",rootIndex,aLen-bLen))}else if(aLen<bLen){patches.push(makePatch("p-append",rootIndex,bChildren.slice(aLen)))}var index=rootIndex;var minLen=aLen<bLen?aLen:bLen;for(var i=0;i<minLen;i++){index++;var aChild=aChildren[i];diffHelp(aChild,bChildren[i],patches,index);index+=aChild.descendantsCount||0}}function diffKeyedChildren(aParent,bParent,patches,rootIndex){var localPatches=[];var changes={};var inserts=[];var aChildren=aParent.children;var bChildren=bParent.children;var aLen=aChildren.length;var bLen=bChildren.length;var aIndex=0;var bIndex=0;var index=rootIndex;while(aIndex<aLen&&bIndex<bLen){var a=aChildren[aIndex];var b=bChildren[bIndex];var aKey=a.value0;var bKey=b.value0;var aNode=a.value1;var bNode=b.value1;if(aKey===bKey){index++;diffHelp(aNode,bNode,localPatches,index);index+=aNode.descendantsCount||0;aIndex++;bIndex++;continue}var aLookAhead=aIndex+1<aLen;var bLookAhead=bIndex+1<bLen;if(aLookAhead){var aNext=aChildren[aIndex+1];var aNextKey=aNext.value0;var aNextNode=aNext.value1;var oldMatch=bKey===aNextKey}if(bLookAhead){var bNext=bChildren[bIndex+1];var bNextKey=bNext.value0;var bNextNode=bNext.value1;var newMatch=aKey===bNextKey}if(aLookAhead&&bLookAhead&&newMatch&&oldMatch){index++;diffHelp(aNode,bNextNode,localPatches,index);insertNode(changes,localPatches,aKey,bNode,bIndex,inserts);index+=aNode.descendantsCount||0;index++;removeNode(changes,localPatches,aKey,aNextNode,index);index+=aNextNode.descendantsCount||0;aIndex+=2;bIndex+=2;continue}if(bLookAhead&&newMatch){index++;insertNode(changes,localPatches,bKey,bNode,bIndex,inserts);diffHelp(aNode,bNextNode,localPatches,index);index+=aNode.descendantsCount||0;aIndex+=1;bIndex+=2;continue}if(aLookAhead&&oldMatch){index++;removeNode(changes,localPatches,aKey,aNode,index);index+=aNode.descendantsCount||0;index++;diffHelp(aNextNode,bNode,localPatches,index);index+=aNextNode.descendantsCount||0;aIndex+=2;bIndex+=1;continue}if(aLookAhead&&bLookAhead&&aNextKey===bNextKey){index++;removeNode(changes,localPatches,aKey,aNode,index);insertNode(changes,localPatches,bKey,bNode,bIndex,inserts);index+=aNode.descendantsCount||0;index++;diffHelp(aNextNode,bNextNode,localPatches,index);index+=aNextNode.descendantsCount||0;aIndex+=2;bIndex+=2;continue}break}while(aIndex<aLen){index++;var a=aChildren[aIndex];var aNode=a.value1;removeNode(changes,localPatches,a.value0,aNode,index);index+=aNode.descendantsCount||0;aIndex++}var endInserts;while(bIndex<bLen){endInserts=endInserts||[];var b=bChildren[bIndex];insertNode(changes,localPatches,b.value0,b.value1,undefined,endInserts);bIndex++}if(localPatches.length>0||inserts.length>0||typeof endInserts!=="undefined"){patches.push(makePatch("p-reorder",rootIndex,{patches:localPatches,inserts:inserts,endInserts:endInserts}))}}const POSTFIX="_elmW6BL";function insertNode(changes,localPatches,key,vnode,bIndex,inserts){var entry=changes[key];if(typeof entry==="undefined"){entry={tag:"insert",vnode:vnode,index:bIndex,data:undefined};inserts.push({index:bIndex,entry:entry});changes[key]=entry;return}if(entry.tag==="remove"){inserts.push({index:bIndex,entry:entry});entry.tag="move";var subPatches=[];diffHelp(entry.vnode,vnode,subPatches,entry.index);entry.index=bIndex;entry.data.data={patches:subPatches,entry:entry};return}insertNode(changes,localPatches,key+POSTFIX,vnode,bIndex,inserts)}function removeNode(changes,localPatches,key,vnode,index){var entry=changes[key];if(typeof entry==="undefined"){var patch=makePatch("p-remove",index,undefined);localPatches.push(patch);changes[key]={tag:"remove",vnode:vnode,index:index,data:patch};return}if(entry.tag==="insert"){entry.tag="move";var subPatches=[];diffHelp(vnode,entry.vnode,subPatches,index);var patch=makePatch("p-remove",index,{patches:subPatches,entry:entry});localPatches.push(patch);return}removeNode(changes,localPatches,key+POSTFIX,vnode,index)}function addDomNodes(domNode,vNode,patches,eventNode){addDomNodesHelp(domNode,vNode,patches,0,0,vNode.descendantsCount,eventNode)}function addDomNodesHelp(domNode,vNode,patches,i,low,high,eventNode){var patch=patches[i];var index=patch.index;while(index===low){var patchType=patch.type;if(patchType==="p-thunk"){addDomNodes(domNode,vNode.node,patch.data,eventNode)}else if(patchType==="p-reorder"){patch.domNode=domNode;patch.eventNode=eventNode;var subPatches=patch.data.patches;if(subPatches.length>0){addDomNodesHelp(domNode,vNode,subPatches,0,low,high,eventNode)}}else if(patchType==="p-remove"){patch.domNode=domNode;patch.eventNode=eventNode;var data=patch.data;if(typeof data!=="undefined"){data.entry.data=domNode;var subPatches=data.patches;if(subPatches.length>0){addDomNodesHelp(domNode,vNode,subPatches,0,low,high,eventNode)}}}else{patch.domNode=domNode;patch.eventNode=eventNode}i++;if(!(patch=patches[i])||(index=patch.index)>high){return i}}switch(vNode.type){case"tagger":var subNode=vNode.node;while(subNode.type==="tagger"){subNode=subNode.node}return addDomNodesHelp(domNode,subNode,patches,i,low+1,high,domNode.elm_event_node_ref);case"node":var vChildren=vNode.children;var childNodes=domNode.childNodes;for(var j=0;j<vChildren.length;j++){low++;var vChild=vChildren[j];var nextLow=low+(vChild.descendantsCount||0);if(low<=index&&index<=nextLow){i=addDomNodesHelp(childNodes[j],vChild,patches,i,low,nextLow,eventNode);if(!(patch=patches[i])||(index=patch.index)>high){return i}}low=nextLow}return i;case"keyed-node":var vChildren=vNode.children;var childNodes=domNode.childNodes;for(var j=0;j<vChildren.length;j++){low++;var vChild=vChildren[j].value1;var nextLow=low+(vChild.descendantsCount||0);if(low<=index&&index<=nextLow){i=addDomNodesHelp(childNodes[j],vChild,patches,i,low,nextLow,eventNode);if(!(patch=patches[i])||(index=patch.index)>high){return i}}low=nextLow}return i;case"text":case"thunk":throw new Error("should never traverse `text` or `thunk` nodes like this")}}function applyPatches(rootDomNode,oldVirtualNode,patches,eventNode){if(patches.length===0){return rootDomNode}addDomNodes(rootDomNode,oldVirtualNode,patches,eventNode);return applyPatchesHelp(rootDomNode,patches)}function applyPatchesHelp(rootDomNode,patches){for(var i=0;i<patches.length;i++){var patch=patches[i];var localDomNode=patch.domNode;var newNode=applyPatch(localDomNode,patch);if(localDomNode===rootDomNode){rootDomNode=newNode}}return rootDomNode}function applyPatch(domNode,patch){switch(patch.type){case"p-redraw":return applyPatchRedraw(domNode,patch.data,patch.eventNode);case"p-facts":applyFacts(domNode,patch.eventNode,patch.data);return domNode;case"p-text":domNode.replaceData(0,domNode.length,patch.data);return domNode;case"p-thunk":return applyPatchesHelp(domNode,patch.data);case"p-tagger":if(typeof domNode.elm_event_node_ref!=="undefined"){domNode.elm_event_node_ref.tagger=patch.data}else{domNode.elm_event_node_ref={tagger:patch.data,parent:patch.eventNode}}return domNode;case"p-remove-last":var i=patch.data;while(i--){domNode.removeChild(domNode.lastChild)}return domNode;case"p-append":var newNodes=patch.data;for(var i=0;i<newNodes.length;i++){domNode.appendChild(render(newNodes[i],patch.eventNode))}return domNode;case"p-remove":var data=patch.data;if(typeof data==="undefined"){domNode.parentNode.removeChild(domNode);return domNode}var entry=data.entry;if(typeof entry.index!=="undefined"){domNode.parentNode.removeChild(domNode)}entry.data=applyPatchesHelp(domNode,data.patches);return domNode;case"p-reorder":return applyPatchReorder(domNode,patch);case"p-custom":var impl=patch.data;return impl.applyPatch(domNode,impl.data);default:throw new Error("Ran into an unknown patch!")}}function applyPatchRedraw(domNode,vNode,eventNode){var parentNode=domNode.parentNode;var newNode=render(vNode,eventNode);if(typeof newNode.elm_event_node_ref==="undefined"){newNode.elm_event_node_ref=domNode.elm_event_node_ref}if(parentNode&&newNode!==domNode){parentNode.replaceChild(newNode,domNode)}return newNode}function applyPatchReorder(domNode,patch){var data=patch.data;var frag=applyPatchReorderEndInsertsHelp(data.endInserts,patch);domNode=applyPatchesHelp(domNode,data.patches);var inserts=data.inserts;for(var i=0;i<inserts.length;i++){var insert=inserts[i];var entry=insert.entry;var node=entry.tag==="move"?entry.data:render(entry.vnode,patch.eventNode);domNode.insertBefore(node,domNode.childNodes[insert.index])}if(typeof frag!=="undefined"){domNode.appendChild(frag)}return domNode}function applyPatchReorderEndInsertsHelp(endInserts,patch){if(typeof endInserts==="undefined"){return}var frag=localDoc.createDocumentFragment();for(var i=0;i<endInserts.length;i++){var insert=endInserts[i];var entry=insert.entry;frag.appendChild(entry.tag==="move"?entry.data:render(entry.vnode,patch.eventNode))}return frag}function wrapViewIn(appEventNode,overlayNode,viewIn){var ignorer=makeIgnorer(overlayNode);var blocking="Normal";var overflow;var normalTagger=appEventNode.tagger;var blockTagger=function(){};return function(model){var tuple=viewIn(model);var newBlocking=tuple.value0.ctor;appEventNode.tagger=newBlocking==="Normal"?normalTagger:blockTagger;if(blocking!==newBlocking){traverse("removeEventListener",ignorer,blocking);traverse("addEventListener",ignorer,newBlocking);if(blocking==="Normal"){overflow=document.body.style.overflow;document.body.style.overflow="hidden"}if(newBlocking==="Normal"){document.body.style.overflow=overflow}blocking=newBlocking}return tuple.value1}}function traverse(verbEventListener,ignorer,blocking){switch(blocking){case"Normal":return;case"Pause":return traverseHelp(verbEventListener,ignorer,mostEvents);case"Message":return traverseHelp(verbEventListener,ignorer,allEvents)}}function traverseHelp(verbEventListener,handler,eventNames){for(var i=0;i<eventNames.length;i++){document.body[verbEventListener](eventNames[i],handler,true)}}function makeIgnorer(overlayNode){return function(event){if(event.type==="keydown"&&event.metaKey&&event.which===82){return}var isScroll=event.type==="scroll"||event.type==="wheel";var node=event.target;while(node!==null){if(node.className==="elm-overlay-message-details"&&isScroll){return}if(node===overlayNode&&!isScroll){return}node=node.parentNode}event.stopPropagation();event.preventDefault()}}const mostEvents=["click","dblclick","mousemove","mouseup","mousedown","mouseenter","mouseleave","touchstart","touchend","touchcancel","touchmove","pointerdown","pointerup","pointerover","pointerout","pointerenter","pointerleave","pointermove","pointercancel","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","keyup","keydown","keypress","input","change","focus","blur"];const allEvents=mostEvents.concat("wheel","scroll");function identity(x){return x}function F2(x){return x}function mkEventNode(cmdMap,emitter){return{parent:undefined,emitter:emitter,cmdMap:cmdMap}}function topEventNode(eventNode){while(eventNode.parent){eventNode=eventNode.parent}return eventNode}function renderFn3(cmdMap,emitter,vNode){return render(vNode,mkEventNode(cmdMap,emitter))}function applyPatchesFn5(cmdMap,emitter,domNode,oldVirtualNode,patches){return applyPatches(domNode,oldVirtualNode,patches,mkEventNode(cmdMap,emitter))}exports.nodeFn3=nodeHelp;exports.text=text;exports.style=style;exports.style=style;exports.onFn3=on;exports.renderFn3=renderFn3;exports.diffFn2=diff;exports.applyPatchesFn5=applyPatchesFn5})(PS["Bonsai.VirtualDom"]=PS["Bonsai.VirtualDom"]||{});(function(exports){"use strict";var $foreign=PS["Bonsai.VirtualDom"];var Bonsai_Types=PS["Bonsai.Types"];var Control_Applicative=PS["Control.Applicative"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var DOM=PS["DOM"];var DOM_Node_Types=PS["DOM.Node.Types"];var Data_Either=PS["Data.Either"];var Data_Foreign=PS["Data.Foreign"];var Data_Function=PS["Data.Function"];var Data_Function_Uncurried=PS["Data.Function.Uncurried"];var Data_Functor=PS["Data.Functor"];var Data_Tuple=PS["Data.Tuple"];var Prelude=PS["Prelude"];var node=Data_Function_Uncurried.runFn3($foreign.nodeFn3);var diff=Data_Function_Uncurried.runFn2($foreign.diffFn2);var defaultOptions={stopPropagation:false,preventDefault:false};var on=function(eventName){return function(decoder){return $foreign.onFn3(eventName,defaultOptions,decoder)}};var cmdMap=function(f){return function(a){return Data_Functor.map(Data_Either.functorEither)(Data_Functor.map(Bonsai_Types.cmdFunctor)(f))(a)}};var render=Data_Function_Uncurried.runFn3($foreign.renderFn3)(cmdMap);var applyPatches=function(emitter){return function(dnode){return function(vnode){return function(patch){return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)($foreign.applyPatchesFn5(cmdMap,emitter,dnode,vnode,patch))}}}};exports["applyPatches"]=applyPatches;exports["defaultOptions"]=defaultOptions;exports["diff"]=diff;exports["node"]=node;exports["on"]=on;exports["render"]=render;exports["style"]=$foreign.style;exports["text"]=$foreign.text})(PS["Bonsai.VirtualDom"]=PS["Bonsai.VirtualDom"]||{});(function(exports){"use strict";var Control_Monad_Aff=PS["Control.Monad.Aff"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var unsafeCoerceAff=Unsafe_Coerce.unsafeCoerce;exports["unsafeCoerceAff"]=unsafeCoerceAff})(PS["Control.Monad.Aff.Unsafe"]=PS["Control.Monad.Aff.Unsafe"]||{});(function(exports){"use strict";exports.newRef=function(val){return function(){return{value:val}}};exports.readRef=function(ref){return function(){return ref.value}};exports["modifyRef'"]=function(ref){return function(f){return function(){var t=f(ref.value);ref.value=t.state;return t.value}}};exports.writeRef=function(ref){return function(val){return function(){ref.value=val;return{}}}}})(PS["Control.Monad.Eff.Ref"]=PS["Control.Monad.Eff.Ref"]||{});(function(exports){"use strict";var $foreign=PS["Control.Monad.Eff.Ref"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Data_Unit=PS["Data.Unit"];
var Prelude=PS["Prelude"];var modifyRef=function(ref){return function(f){return $foreign["modifyRef'"](ref)(function(s){return{state:f(s),value:Data_Unit.unit}})}};exports["modifyRef"]=modifyRef;exports["modifyRef'"]=$foreign["modifyRef'"];exports["newRef"]=$foreign.newRef;exports["readRef"]=$foreign.readRef;exports["writeRef"]=$foreign.writeRef})(PS["Control.Monad.Eff.Ref"]=PS["Control.Monad.Eff.Ref"]||{});(function(exports){"use strict";exports.appendChild=function(node){return function(parent){return function(){return parent.appendChild(node)}}}})(PS["DOM.Node.Node"]=PS["DOM.Node.Node"]||{});(function(exports){"use strict";var $foreign=PS["DOM.Node.Node"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var DOM=PS["DOM"];var DOM_Node_NodeType=PS["DOM.Node.NodeType"];var DOM_Node_Types=PS["DOM.Node.Types"];var Data_Enum=PS["Data.Enum"];var Data_Functor=PS["Data.Functor"];var Data_Maybe=PS["Data.Maybe"];var Data_Nullable=PS["Data.Nullable"];var Prelude=PS["Prelude"];exports["appendChild"]=$foreign.appendChild})(PS["DOM.Node.Node"]=PS["DOM.Node.Node"]||{});(function(exports){"use strict";var Data_Array=PS["Data.Array"];var Data_Ring=PS["Data.Ring"];var Prelude=PS["Prelude"];var tail=function(dictPartial){return function(xs){return Data_Array.slice(1)(Data_Array.length(xs))(xs)}};var head=function(dictPartial){return function(xs){return xs[0]}};exports["head"]=head;exports["tail"]=tail})(PS["Data.Array.Partial"]=PS["Data.Array.Partial"]||{});(function(exports){"use strict";var Bonsai_DOM=PS["Bonsai.DOM"];var Bonsai_Debug=PS["Bonsai.Debug"];var Bonsai_Types=PS["Bonsai.Types"];var Bonsai_VirtualDom=PS["Bonsai.VirtualDom"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Monad_Aff=PS["Control.Monad.Aff"];var Control_Monad_Aff_Unsafe=PS["Control.Monad.Aff.Unsafe"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Eff_Console=PS["Control.Monad.Eff.Console"];var Control_Monad_Eff_Exception=PS["Control.Monad.Eff.Exception"];var Control_Monad_Eff_Ref=PS["Control.Monad.Eff.Ref"];var Control_Monad_Eff_Unsafe=PS["Control.Monad.Eff.Unsafe"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var DOM=PS["DOM"];var DOM_Node_Node=PS["DOM.Node.Node"];var DOM_Node_Types=PS["DOM.Node.Types"];var Data_Array=PS["Data.Array"];var Data_Array_Partial=PS["Data.Array.Partial"];var Data_Either=PS["Data.Either"];var Data_Foldable=PS["Data.Foldable"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Tuple=PS["Data.Tuple"];var Data_Unit=PS["Data.Unit"];var Partial_Unsafe=PS["Partial.Unsafe"];var Prelude=PS["Prelude"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var unsafeCoerceCmd=function(cmd){return Unsafe_Coerce.unsafeCoerce(cmd)};var queueMessages=function(env){return function(msgs){var $20=Data_Array["null"](msgs);if($20){return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(Data_Unit.unit)}return function __do(){Bonsai_Debug.debugJsonObj(env.dbgEvents)("queue messages:")(msgs)();Control_Monad_Eff_Ref.modifyRef(env.pending)(function(pending){return Data_Semigroup.append(Data_Semigroup.semigroupArray)(pending)(msgs)})();return Data_Unit.unit}}};var plainResult=function(model){return{model:model,cmd:Bonsai_Types.emptyCommand}};var emitError=function(err){return Bonsai_Debug.logJsonObj("cmd error: ")(err)};var updateModel=function(env){var applyMessages=function(v){return function(v1){if(v1.length===0){return Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(new Data_Tuple.Tuple(v.value0,v.value1))}return function(dictPartial){var msg=Data_Array_Partial.head(dictPartial)(v1);return function __do(){Bonsai_Debug.debugJsonObj(env.dbgEvents)("message event:")(msg)();var v2=env.updater(v.value1)(msg);return applyMessages(new Data_Tuple.Tuple(Data_Array.snoc(v.value0)(v2.cmd),v2.model))(Data_Array_Partial.tail(dictPartial)(v1))()}}()}};return function __do(){var v=Control_Monad_Eff_Class.liftEff(Control_Monad_Eff_Class.monadEffEff)(Control_Monad_Eff_Ref["modifyRef'"](env.pending)(function(ms){return{state:[],value:ms}}))();var $34=Data_Array["null"](v);if($34){return Data_Unit.unit}var v1=Control_Monad_Eff_Class.liftEff(Control_Monad_Eff_Class.monadEffEff)(Control_Monad_Eff_Ref.readRef(env.state))();var v2=applyMessages(new Data_Tuple.Tuple([],v1.model))(v)();Control_Monad_Eff_Ref.writeRef(env.state)(function(){var $37={};for(var $38 in v1){if({}.hasOwnProperty.call(v1,$38)){$37[$38]=v1[$38]}}$37.model=v2.value1;$37.dirty=true;return $37}())();Data_Foldable.for_(Control_Monad_Eff.applicativeEff)(Data_Foldable.foldableArray)(v2.value0)(function($64){return queueCommand(env)(unsafeCoerceCmd($64))})();return updateModel(env)()}};var updateAndRedraw=function(env){return function __do(){updateModel(env)();var v=Bonsai_DOM.domRequestAnimationFrame(redrawModel(env))();return Data_Unit.unit}};var redrawModel=function(env){return function __do(){var v=Control_Monad_Eff_Class.liftEff(Control_Monad_Eff_Class.monadEffEff)(Control_Monad_Eff_Ref.readRef(env.state))();if(v.dirty){var v1=Bonsai_Debug.startTiming();var vnode2=env.renderer(v.model);var patch=Bonsai_VirtualDom.diff(v.vnode)(vnode2);var v2=Control_Monad_Eff_Class.liftEff(Control_Monad_Eff_Class.monadEffEff)(Bonsai_VirtualDom.applyPatches(emitter(env))(v.dnode)(v.vnode)(patch))();Bonsai_Debug.debugTiming(env.dbgTiming)("render/diff/applyPatches")(v1)();return Control_Monad_Eff_Ref.writeRef(env.state)(function(){var $46={};for(var $47 in v){if({}.hasOwnProperty.call(v,$47)){$46[$47]=v[$47]}}$46.vnode=vnode2;$46.dnode=v2;$46.dirty=false;return $46}())()}return Data_Unit.unit}};var queueCommand=function(env){return function(cmd){var queueMs=function(msgs){return function __do(){queueMessages(env)(msgs)();return!Data_Array["null"](msgs)}};var emitTheTypeIsALie=function(env2){return function(msgs){return Control_Monad_Eff_Unsafe.unsafeCoerceEff(emitSuccess(env2)(msgs))}};if(cmd instanceof Bonsai_Types.Cmd){return queueMs(cmd.value0)}if(cmd instanceof Bonsai_Types.TaskCmd){var ctx={emitter:emitTheTypeIsALie(env)};var aff=cmd.value0(ctx);return function __do(){var v=Control_Monad_Aff.runAff(emitError)(emitSuccess(env))(Control_Monad_Aff_Unsafe.unsafeCoerceAff(aff))();return false}}throw new Error("Failed pattern match at Bonsai.Core line 175, column 3 - line 182, column 17: "+[cmd.constructor.name])}};var emitter=function(env){return function(ecmd){if(ecmd instanceof Data_Either.Left){return Control_Apply.applySecond(Control_Monad_Eff.applyEff)(emitError(ecmd.value0))(Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(true))}if(ecmd instanceof Data_Either.Right){return function __do(){var v=queueCommand(env)(unsafeCoerceCmd(ecmd.value0))();if(v){return Control_Apply.applySecond(Control_Monad_Eff.applyEff)(updateAndRedraw(env))(Control_Applicative.pure(Control_Monad_Eff.applicativeEff)(false))()}return false}}throw new Error("Failed pattern match at Bonsai.Core line 205, column 3 - line 212, column 24: "+[ecmd.constructor.name])}};var emitSuccess=function(env){return function(msgs){return function __do(){queueMessages(env)(msgs)();var $57=Data_Array["null"](msgs);if($57){return Data_Unit.unit}return updateAndRedraw(env)()}}};var debugProgram=function(container){return function(dbgTiming){return function(dbgEvents){return function(updater){return function(renderer){return function(model){var vnode=renderer(model);return function __do(){var v=Control_Monad_Eff_Ref.newRef({model:model,vnode:vnode,dnode:container,dirty:false})();var v1=Control_Monad_Eff_Ref.newRef([])();var env={dbgTiming:dbgTiming,dbgEvents:dbgEvents,updater:updater,renderer:renderer,pending:v1,state:v};var v2=Bonsai_Debug.startTiming();var dnode=Bonsai_VirtualDom.render(emitter(env))(vnode);var v3=DOM_Node_Node.appendChild(DOM_Node_Types.elementToNode(dnode))(DOM_Node_Types.elementToNode(container))();Bonsai_Debug.debugTiming(env.dbgTiming)("render/appendChild")(v2)();Control_Monad_Eff_Ref.modifyRef(v)(function(state){var $61={};for(var $62 in state){if({}.hasOwnProperty.call(state,$62)){$61[$62]=state[$62]}}$61.dnode=dnode;return $61})();return env}}}}}}};var program=function(container){return function(updater){return function(renderer){return function(model){return debugProgram(container)(false)(false)(updater)(renderer)(model)}}}};exports["debugProgram"]=debugProgram;exports["plainResult"]=plainResult;exports["program"]=program})(PS["Bonsai.Core"]=PS["Bonsai.Core"]||{});(function(exports){"use strict";var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Category=PS["Control.Category"];var Control_Lazy=PS["Control.Lazy"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Bifunctor=PS["Data.Bifunctor"];var Data_Boolean=PS["Data.Boolean"];var Data_Eq=PS["Data.Eq"];var Data_Foldable=PS["Data.Foldable"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_HeytingAlgebra=PS["Data.HeytingAlgebra"];var Data_List_Types=PS["Data.List.Types"];var Data_Maybe=PS["Data.Maybe"];var Data_Newtype=PS["Data.Newtype"];var Data_NonEmpty=PS["Data.NonEmpty"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Ring=PS["Data.Ring"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Semiring=PS["Data.Semiring"];var Data_Show=PS["Data.Show"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Data_Unfoldable=PS["Data.Unfoldable"];var Data_Unit=PS["Data.Unit"];var Prelude=PS["Prelude"];var reverse=function(){var go=function($copy_acc){return function($copy_v){var $tco_var_acc=$copy_acc;var $tco_done=false;var $tco_result;function $tco_loop(acc,v){if(v instanceof Data_List_Types.Nil){$tco_done=true;return acc}if(v instanceof Data_List_Types.Cons){$tco_var_acc=new Data_List_Types.Cons(v.value0,acc);$copy_v=v.value1;return}throw new Error("Failed pattern match at Data.List line 367, column 3 - line 367, column 19: "+[acc.constructor.name,v.constructor.name])}while(!$tco_done){$tco_result=$tco_loop($tco_var_acc,$copy_v)}return $tco_result}};return go(Data_List_Types.Nil.value)}();exports["reverse"]=reverse})(PS["Data.List"]=PS["Data.List"]||{});(function(exports){"use strict";var Data_List=PS["Data.List"];var Data_List_Types=PS["Data.List.Types"];var Data_Maybe=PS["Data.Maybe"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Show=PS["Data.Show"];var Data_Tuple=PS["Data.Tuple"];var CatQueue=function(){function CatQueue(value0,value1){this.value0=value0;this.value1=value1}CatQueue.create=function(value0){return function(value1){return new CatQueue(value0,value1)}};return CatQueue}();var uncons=function($copy_v){var $tco_done=false;var $tco_result;function $tco_loop(v){if(v.value0 instanceof Data_List_Types.Nil&&v.value1 instanceof Data_List_Types.Nil){$tco_done=true;return Data_Maybe.Nothing.value}if(v.value0 instanceof Data_List_Types.Nil){$copy_v=new CatQueue(Data_List.reverse(v.value1),Data_List_Types.Nil.value);return}if(v.value0 instanceof Data_List_Types.Cons){$tco_done=true;return new Data_Maybe.Just(new Data_Tuple.Tuple(v.value0.value0,new CatQueue(v.value0.value1,v.value1)))}throw new Error("Failed pattern match at Data.CatQueue line 50, column 1 - line 50, column 63: "+[v.constructor.name])}while(!$tco_done){$tco_result=$tco_loop($copy_v)}return $tco_result};var snoc=function(v){return function(a){return new CatQueue(v.value0,new Data_List_Types.Cons(a,v.value1))}};var $$null=function(v){if(v.value0 instanceof Data_List_Types.Nil&&v.value1 instanceof Data_List_Types.Nil){return true}return false};var empty=new CatQueue(Data_List_Types.Nil.value,Data_List_Types.Nil.value);exports["CatQueue"]=CatQueue;exports["empty"]=empty;exports["null"]=$$null;exports["snoc"]=snoc;exports["uncons"]=uncons})(PS["Data.CatQueue"]=PS["Data.CatQueue"]||{});(function(exports){"use strict";var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Monad=PS["Control.Monad"];var Control_MonadPlus=PS["Control.MonadPlus"];var Control_MonadZero=PS["Control.MonadZero"];var Control_Plus=PS["Control.Plus"];var Data_CatQueue=PS["Data.CatQueue"];var Data_Foldable=PS["Data.Foldable"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_List=PS["Data.List"];var Data_List_Types=PS["Data.List.Types"];var Data_Maybe=PS["Data.Maybe"];var Data_Monoid=PS["Data.Monoid"];var Data_NaturalTransformation=PS["Data.NaturalTransformation"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Show=PS["Data.Show"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Data_Unfoldable=PS["Data.Unfoldable"];var CatNil=function(){function CatNil(){}CatNil.value=new CatNil;return CatNil}();var CatCons=function(){function CatCons(value0,value1){this.value0=value0;this.value1=value1}CatCons.create=function(value0){return function(value1){return new CatCons(value0,value1)}};return CatCons}();var $$null=function(v){if(v instanceof CatNil){return true}return false};var link=function(v){return function(cat){if(v instanceof CatNil){return cat}if(v instanceof CatCons){return new CatCons(v.value0,Data_CatQueue.snoc(v.value1)(cat))}throw new Error("Failed pattern match at Data.CatList line 110, column 1 - line 110, column 54: "+[v.constructor.name,cat.constructor.name])}};var foldr=function(k){return function(b){return function(q){var foldl=function($copy_v){return function($copy_c){return function($copy_v1){var $tco_var_v=$copy_v;var $tco_var_c=$copy_c;var $tco_done=false;var $tco_result;function $tco_loop(v,c,v1){if(v1 instanceof Data_List_Types.Nil){$tco_done=true;return c}if(v1 instanceof Data_List_Types.Cons){$tco_var_v=v;$tco_var_c=v(c)(v1.value0);$copy_v1=v1.value1;return}throw new Error("Failed pattern match at Data.CatList line 125, column 3 - line 125, column 59: "+[v.constructor.name,c.constructor.name,v1.constructor.name])}while(!$tco_done){$tco_result=$tco_loop($tco_var_v,$tco_var_c,$copy_v1)}return $tco_result}}};var go=function($copy_xs){return function($copy_ys){var $tco_var_xs=$copy_xs;var $tco_done=false;var $tco_result;function $tco_loop(xs,ys){var v=Data_CatQueue.uncons(xs);if(v instanceof Data_Maybe.Nothing){$tco_done=true;return foldl(function(x){return function(i){return i(x)}})(b)(ys)}if(v instanceof Data_Maybe.Just){$tco_var_xs=v.value0.value1;$copy_ys=new Data_List_Types.Cons(k(v.value0.value0),ys);return}throw new Error("Failed pattern match at Data.CatList line 121, column 14 - line 123, column 67: "+[v.constructor.name])}while(!$tco_done){$tco_result=$tco_loop($tco_var_xs,$copy_ys)}return $tco_result}};return go(q)(Data_List_Types.Nil.value)}}};var uncons=function(v){if(v instanceof CatNil){return Data_Maybe.Nothing.value}if(v instanceof CatCons){return new Data_Maybe.Just(new Data_Tuple.Tuple(v.value0,function(){var $41=Data_CatQueue["null"](v.value1);if($41){return CatNil.value}return foldr(link)(CatNil.value)(v.value1)}()))}throw new Error("Failed pattern match at Data.CatList line 101, column 1 - line 101, column 61: "+[v.constructor.name])};var foldMap=function(dictMonoid){return function(f){return function(v){if(v instanceof CatNil){return Data_Monoid.mempty(dictMonoid)}if(v instanceof CatCons){var d=function(){var $46=Data_CatQueue["null"](v.value1);if($46){return CatNil.value}return foldr(link)(CatNil.value)(v.value1)}();return Data_Semigroup.append(dictMonoid.Semigroup0())(f(v.value0))(foldMap(dictMonoid)(f)(d))}throw new Error("Failed pattern match at Data.CatList line 141, column 1 - line 141, column 62: "+[f.constructor.name,v.constructor.name])}}};var foldableCatList=new Data_Foldable.Foldable(function(dictMonoid){return function(f){return function(l){return foldMap(dictMonoid)(f)(l)}}},function(f){return function(s){return function(l){return Data_Foldable.foldlDefault(foldableCatList)(f)(s)(l)}}},function(f){return function(s){return function(l){return Data_Foldable.foldrDefault(foldableCatList)(f)(s)(l)}}});var empty=CatNil.value;var append=function(v){return function(v1){if(v1 instanceof CatNil){return v}if(v instanceof CatNil){return v1}return link(v)(v1)}};var cons=function(a){return function(cat){return append(new CatCons(a,Data_CatQueue.empty))(cat)}};var map=function(v){return function(v1){if(v1 instanceof CatNil){return CatNil.value}if(v1 instanceof CatCons){var d=function(){var $53=Data_CatQueue["null"](v1.value1);if($53){return CatNil.value}return foldr(link)(CatNil.value)(v1.value1)}();return cons(v(v1.value0))(map(v)(d))}throw new Error("Failed pattern match at Data.CatList line 135, column 1 - line 135, column 54: "+[v.constructor.name,v1.constructor.name])}};var functorCatList=new Data_Functor.Functor(map);var semigroupCatList=new Data_Semigroup.Semigroup(append);var snoc=function(cat){return function(a){return append(cat)(new CatCons(a,Data_CatQueue.empty))}};exports["CatNil"]=CatNil;exports["CatCons"]=CatCons;exports["append"]=append;exports["cons"]=cons;exports["empty"]=empty;exports["null"]=$$null;exports["snoc"]=snoc;exports["uncons"]=uncons;exports["semigroupCatList"]=semigroupCatList;exports["foldableCatList"]=foldableCatList;exports["functorCatList"]=functorCatList})(PS["Data.CatList"]=PS["Data.CatList"]||{});(function(exports){"use strict";var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Category=PS["Control.Category"];var Control_Monad=PS["Control.Monad"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_Monad_Trans_Class=PS["Control.Monad.Trans.Class"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_CatList=PS["Data.CatList"];var Data_Either=PS["Data.Either"];var Data_Eq=PS["Data.Eq"];var Data_Foldable=PS["Data.Foldable"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_Maybe=PS["Data.Maybe"];var Data_Ord=PS["Data.Ord"];var Data_Ordering=PS["Data.Ordering"];var Data_Semigroup=PS["Data.Semigroup"];var Data_Traversable=PS["Data.Traversable"];var Data_Tuple=PS["Data.Tuple"];var Prelude=PS["Prelude"];var Unsafe_Coerce=PS["Unsafe.Coerce"];var Free=function(){function Free(value0,value1){this.value0=value0;this.value1=value1}Free.create=function(value0){return function(value1){return new Free(value0,value1)}};return Free}();var Return=function(){function Return(value0){this.value0=value0}Return.create=function(value0){return new Return(value0)};return Return}();var Bind=function(){function Bind(value0,value1){this.value0=value0;this.value1=value1}Bind.create=function(value0){return function(value1){return new Bind(value0,value1)}};return Bind}();var toView=function($copy_v){var $tco_done=false;var $tco_result;function $tco_loop(v){var runExpF=function(v2){return v2};var concatF=function(v2){return function(r){return new Free(v2.value0,Data_Semigroup.append(Data_CatList.semigroupCatList)(v2.value1)(r))}};if(v.value0 instanceof Return){var v2=Data_CatList.uncons(v.value1);if(v2 instanceof Data_Maybe.Nothing){$tco_done=true;return new Return(Unsafe_Coerce.unsafeCoerce(v.value0.value0))}if(v2 instanceof Data_Maybe.Just){$copy_v=Unsafe_Coerce.unsafeCoerce(concatF(runExpF(v2.value0.value0)(v.value0.value0))(v2.value0.value1));return}throw new Error("Failed pattern match at Control.Monad.Free line 215, column 7 - line 219, column 64: "+[v2.constructor.name])}if(v.value0 instanceof Bind){$tco_done=true;return new Bind(v.value0.value0,function(a){return Unsafe_Coerce.unsafeCoerce(concatF(v.value0.value1(a))(v.value1))})}throw new Error("Failed pattern match at Control.Monad.Free line 213, column 3 - line 221, column 56: "+[v.value0.constructor.name])}while(!$tco_done){$tco_result=$tco_loop($copy_v)}return $tco_result};var fromView=function(f){return new Free(Unsafe_Coerce.unsafeCoerce(f),Data_CatList.empty)};var freeMonad=new Control_Monad.Monad(function(){return freeApplicative},function(){return freeBind});var freeFunctor=new Data_Functor.Functor(function(k){return function(f){return Control_Bind.bindFlipped(freeBind)(function($118){return Control_Applicative.pure(freeApplicative)(k($118))})(f)}});var freeBind=new Control_Bind.Bind(function(){return freeApply},function(v){return function(k){return new Free(v.value0,Data_CatList.snoc(v.value1)(Unsafe_Coerce.unsafeCoerce(k)))}});var freeApply=new Control_Apply.Apply(function(){return freeFunctor},Control_Monad.ap(freeMonad));var freeApplicative=new Control_Applicative.Applicative(function(){return freeApply},function($119){return fromView(Return.create($119))});var liftF=function(f){return fromView(new Bind(Unsafe_Coerce.unsafeCoerce(f),function($120){return Control_Applicative.pure(freeApplicative)(Unsafe_Coerce.unsafeCoerce($120))}))};var substFree=function(k){var go=function(f){var v=toView(f);if(v instanceof Return){return Control_Applicative.pure(freeApplicative)(v.value0)}if(v instanceof Bind){return Control_Bind.bind(freeBind)(k(v.value0))(Data_Functor.map(Data_Functor.functorFn)(go)(v.value1))}throw new Error("Failed pattern match at Control.Monad.Free line 156, column 10 - line 158, column 33: "+[v.constructor.name])};return go};var hoistFree=function(k){return substFree(function($121){return liftF(k($121))})};var foldFree=function(dictMonadRec){return function(k){var go=function(f){var v=toView(f);if(v instanceof Return){return Data_Functor.map(dictMonadRec.Monad0().Bind1().Apply0().Functor0())(Control_Monad_Rec_Class.Done.create)(Control_Applicative.pure(dictMonadRec.Monad0().Applicative0())(v.value0))}if(v instanceof Bind){return Data_Functor.map(dictMonadRec.Monad0().Bind1().Apply0().Functor0())(function($127){return Control_Monad_Rec_Class.Loop.create(v.value1($127))})(k(v.value0))}throw new Error("Failed pattern match at Control.Monad.Free line 146, column 10 - line 148, column 37: "+[v.constructor.name])};return Control_Monad_Rec_Class.tailRecM(dictMonadRec)(go)}};exports["foldFree"]=foldFree;exports["hoistFree"]=hoistFree;exports["liftF"]=liftF;exports["substFree"]=substFree;exports["freeFunctor"]=freeFunctor;exports["freeBind"]=freeBind;exports["freeApplicative"]=freeApplicative;exports["freeApply"]=freeApply;exports["freeMonad"]=freeMonad})(PS["Control.Monad.Free"]=PS["Control.Monad.Free"]||{});(function(exports){"use strict";var Data_Tuple=PS["Data.Tuple"];var Data_Unit=PS["Data.Unit"];var Prelude=PS["Prelude"];var MonadState=function(Monad0,state){this.Monad0=Monad0;this.state=state};var state=function(dict){return dict.state};exports["MonadState"]=MonadState;exports["state"]=state})(PS["Control.Monad.State.Class"]=PS["Control.Monad.State.Class"]||{});(function(exports){"use strict";var Control_Alt=PS["Control.Alt"];var Control_Alternative=PS["Control.Alternative"];var Control_Applicative=PS["Control.Applicative"];var Control_Apply=PS["Control.Apply"];var Control_Bind=PS["Control.Bind"];var Control_Lazy=PS["Control.Lazy"];var Control_Monad=PS["Control.Monad"];var Control_Monad_Cont_Class=PS["Control.Monad.Cont.Class"];var Control_Monad_Eff_Class=PS["Control.Monad.Eff.Class"];var Control_Monad_Error_Class=PS["Control.Monad.Error.Class"];var Control_Monad_Reader_Class=PS["Control.Monad.Reader.Class"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_Monad_State_Class=PS["Control.Monad.State.Class"];var Control_Monad_Trans_Class=PS["Control.Monad.Trans.Class"];var Control_Monad_Writer_Class=PS["Control.Monad.Writer.Class"];var Control_MonadPlus=PS["Control.MonadPlus"];var Control_MonadZero=PS["Control.MonadZero"];var Control_Plus=PS["Control.Plus"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_Newtype=PS["Data.Newtype"];var Data_Tuple=PS["Data.Tuple"];var Data_Unit=PS["Data.Unit"];var Prelude=PS["Prelude"];var StateT=function(x){return x};var functorStateT=function(dictFunctor){return new Data_Functor.Functor(function(f){return function(v){return function(s){return Data_Functor.map(dictFunctor)(function(v1){return new Data_Tuple.Tuple(f(v1.value0),v1.value1)})(v(s))}}})};var monadStateT=function(dictMonad){return new Control_Monad.Monad(function(){return applicativeStateT(dictMonad)},function(){return bindStateT(dictMonad)})};var bindStateT=function(dictMonad){return new Control_Bind.Bind(function(){return applyStateT(dictMonad)},function(v){return function(f){return function(s){return Control_Bind.bind(dictMonad.Bind1())(v(s))(function(v1){var v3=f(v1.value0);return v3(v1.value1)})}}})};var applyStateT=function(dictMonad){return new Control_Apply.Apply(function(){return functorStateT(dictMonad.Bind1().Apply0().Functor0())},Control_Monad.ap(monadStateT(dictMonad)))};var applicativeStateT=function(dictMonad){return new Control_Applicative.Applicative(function(){return applyStateT(dictMonad)},function(a){return function(s){return Control_Applicative.pure(dictMonad.Applicative0())(new Data_Tuple.Tuple(a,s))}})};var monadRecStateT=function(dictMonadRec){return new Control_Monad_Rec_Class.MonadRec(function(){return monadStateT(dictMonadRec.Monad0())},function(f){return function(a){var f$prime=function(v){return Control_Bind.bind(dictMonadRec.Monad0().Bind1())(function(){var v1=f(v.value0);return v1}()(v.value1))(function(v1){return Control_Applicative.pure(dictMonadRec.Monad0().Applicative0())(function(){if(v1.value0 instanceof Control_Monad_Rec_Class.Loop){return new Control_Monad_Rec_Class.Loop(new Data_Tuple.Tuple(v1.value0.value0,v1.value1))}if(v1.value0 instanceof Control_Monad_Rec_Class.Done){return new Control_Monad_Rec_Class.Done(new Data_Tuple.Tuple(v1.value0.value0,v1.value1))}throw new Error("Failed pattern match at Control.Monad.State.Trans line 88, column 16 - line 90, column 40: "+[v1.value0.constructor.name])}())})};return function(s){return Control_Monad_Rec_Class.tailRecM(dictMonadRec)(f$prime)(new Data_Tuple.Tuple(a,s))}}})};var monadStateStateT=function(dictMonad){return new Control_Monad_State_Class.MonadState(function(){return monadStateT(dictMonad)},function(f){return StateT(function($111){return Control_Applicative.pure(dictMonad.Applicative0())(f($111))})})};exports["StateT"]=StateT;exports["functorStateT"]=functorStateT;exports["applyStateT"]=applyStateT;exports["applicativeStateT"]=applicativeStateT;exports["bindStateT"]=bindStateT;exports["monadStateT"]=monadStateT;exports["monadRecStateT"]=monadRecStateT;exports["monadStateStateT"]=monadStateStateT})(PS["Control.Monad.State.Trans"]=PS["Control.Monad.State.Trans"]||{});(function(exports){"use strict";var Control_Monad_State_Class=PS["Control.Monad.State.Class"];var Control_Monad_State_Trans=PS["Control.Monad.State.Trans"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Identity=PS["Data.Identity"];var Data_Newtype=PS["Data.Newtype"];var Data_Tuple=PS["Data.Tuple"];var Prelude=PS["Prelude"];var execState=function(v){return function(s){var v1=v(s);return v1.value1}};exports["execState"]=execState})(PS["Control.Monad.State"]=PS["Control.Monad.State"]||{});(function(exports){"use strict";var Bonsai_VirtualDom=PS["Bonsai.VirtualDom"];var Control_Applicative=PS["Control.Applicative"];var Control_Monad_Free=PS["Control.Monad.Free"];var Control_Monad_Rec_Class=PS["Control.Monad.Rec.Class"];var Control_Monad_State=PS["Control.Monad.State"];var Control_Monad_State_Class=PS["Control.Monad.State.Class"];var Control_Monad_State_Trans=PS["Control.Monad.State.Trans"];var Data_Array=PS["Data.Array"];var Data_CatList=PS["Data.CatList"];var Data_Foldable=PS["Data.Foldable"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_Identity=PS["Data.Identity"];var Data_Maybe=PS["Data.Maybe"];var Data_Tuple=PS["Data.Tuple"];var Data_Unit=PS["Data.Unit"];var Prelude=PS["Prelude"];var ElementF=function(){function ElementF(value0,value1){this.value0=value0;this.value1=value1}ElementF.create=function(value0){return function(value1){return new ElementF(value0,value1)}};return ElementF}();var VNodeF=function(){function VNodeF(value0,value1){this.value0=value0;this.value1=value1}VNodeF.create=function(value0){return function(value1){return new VNodeF(value0,value1)}};return VNodeF}();var EmptyF=function(){function EmptyF(value0){this.value0=value0}EmptyF.create=function(value0){return new EmptyF(value0)};return EmptyF}();var HasAttribute=function(withAttribute){this.withAttribute=withAttribute};var withAttribute=function(dict){return dict.withAttribute};var vnode=function(v){return Control_Monad_Free.liftF(new VNodeF(v,Data_Unit.unit))};var text=function(s){return vnode(Bonsai_VirtualDom.text(s))};var render=function(elem){var styles2Tups=function(s){return Data_Functor.map(Data_CatList.functorCatList)(function(st){return new Data_Tuple.Tuple(st.name,st.value)})(s)};var singleNode=function(ns){var v=Data_Array.fromFoldable(Data_Foldable.foldableArray)(ns);if(v.length===0){return Bonsai_VirtualDom.node("div")([])([])}if(v.length===1){return v[0]}return Bonsai_VirtualDom.node("div")([])(v)};var renderNodes=function(content){return Data_Array.fromFoldable(Data_CatList.foldableCatList)(Control_Monad_State.execState(Control_Monad_Free.foldFree(Control_Monad_State_Trans.monadRecStateT(Control_Monad_Rec_Class.monadRecIdentity))(foldMarkupF)(content))(Data_CatList.empty))};var foldMarkupF=function(v){if(v instanceof EmptyF){return Control_Applicative.pure(Control_Monad_State_Trans.applicativeStateT(Data_Identity.monadIdentity))(v.value0)}if(v instanceof VNodeF){return Control_Monad_State_Class.state(Control_Monad_State_Trans.monadStateStateT(Data_Identity.monadIdentity))(function(acc){return new Data_Tuple.Tuple(v.value1,Data_CatList.snoc(acc)(v.value0))})}if(v instanceof ElementF){var c=renderNodes(v.value0.content);var a=function(){var $23=Data_CatList["null"](v.value0.styles);if($23){return v.value0.attribs}return Data_CatList.snoc(v.value0.attribs)(Bonsai_VirtualDom.style(Data_Array.fromFoldable(Data_CatList.foldableCatList)(styles2Tups(v.value0.styles))))}();return Control_Monad_State_Class.state(Control_Monad_State_Trans.monadStateStateT(Data_Identity.monadIdentity))(function(acc){return new Data_Tuple.Tuple(v.value1,Data_CatList.snoc(acc)(Bonsai_VirtualDom.node(v.value0.name)(Data_Array.fromFoldable(Data_CatList.foldableCatList)(a))(c)))})}throw new Error("Failed pattern match at Bonsai.Html.Internal line 233, column 5 - line 233, column 65: "+[v.constructor.name])};return singleNode(renderNodes(elem))};var parent=function(name){return function(content){return Control_Monad_Free.liftF(new ElementF({name:name,attribs:Data_CatList.empty,styles:Data_CatList.empty,content:content},Data_Unit.unit))}};var hasAttributeMarkup=new HasAttribute(function(elem){return function(prop){var go=function(v){if(v instanceof ElementF){return new ElementF(function(){var $33={};for(var $34 in v.value0){if({}.hasOwnProperty.call(v.value0,$34)){$33[$34]=v["value0"][$34]}}$33.attribs=Data_CatList.snoc(v.value0.attribs)(prop);return $33}(),v.value1)}return v};return Control_Monad_Free.hoistFree(go)(elem)}});var hasAttributeMarkupF=new HasAttribute(function(efn){return function(prop){return function(elem){return withAttribute(hasAttributeMarkup)(efn(elem))(prop)}}});exports["HasAttribute"]=HasAttribute;exports["parent"]=parent;exports["render"]=render;exports["text"]=text;exports["vnode"]=vnode;exports["withAttribute"]=withAttribute;exports["hasAttributeMarkup"]=hasAttributeMarkup;exports["hasAttributeMarkupF"]=hasAttributeMarkupF})(PS["Bonsai.Html.Internal"]=PS["Bonsai.Html.Internal"]||{});(function(exports){"use strict";var Bonsai_Html_Internal=PS["Bonsai.Html.Internal"];var Prelude=PS["Prelude"];
var div_=Bonsai_Html_Internal.parent("div");var button=Bonsai_Html_Internal.parent("button");exports["button"]=button;exports["div_"]=div_})(PS["Bonsai.Html.Elements"]=PS["Bonsai.Html.Elements"]||{});(function(exports){"use strict";var Bonsai_EventDecoder=PS["Bonsai.EventDecoder"];var Bonsai_Types=PS["Bonsai.Types"];var Bonsai_VirtualDom=PS["Bonsai.VirtualDom"];var Control_Monad_Except_Trans=PS["Control.Monad.Except.Trans"];var Control_Semigroupoid=PS["Control.Semigroupoid"];var Data_Either=PS["Data.Either"];var Data_Function=PS["Data.Function"];var Data_Functor=PS["Data.Functor"];var Data_Identity=PS["Data.Identity"];var Data_Maybe=PS["Data.Maybe"];var Data_StrMap=PS["Data.StrMap"];var Prelude=PS["Prelude"];var onClick=function(msg){return Bonsai_VirtualDom.on("click")(function(v){return Data_Either.Right.create(Bonsai_Types.pureCommand(msg))})};exports["onClick"]=onClick})(PS["Bonsai.Html.Events"]=PS["Bonsai.Html.Events"]||{});(function(exports){"use strict";var Bonsai=PS["Bonsai"];var Bonsai_Core=PS["Bonsai.Core"];var Bonsai_DOM=PS["Bonsai.DOM"];var Bonsai_Html=PS["Bonsai.Html"];var Bonsai_Html_Attributes=PS["Bonsai.Html.Attributes"];var Bonsai_Html_Elements=PS["Bonsai.Html.Elements"];var Bonsai_Html_Events=PS["Bonsai.Html.Events"];var Bonsai_Html_Internal=PS["Bonsai.Html.Internal"];var Control_Applicative=PS["Control.Applicative"];var Control_Bind=PS["Control.Bind"];var Control_Monad_Eff=PS["Control.Monad.Eff"];var Control_Monad_Free=PS["Control.Monad.Free"];var DOM=PS["DOM"];var DOM_Node_Types=PS["DOM.Node.Types"];var Data_Function=PS["Data.Function"];var Data_Maybe=PS["Data.Maybe"];var Data_Ring=PS["Data.Ring"];var Data_Semiring=PS["Data.Semiring"];var Data_Show=PS["Data.Show"];var Data_Unit=PS["Data.Unit"];var Partial_Unsafe=PS["Partial.Unsafe"];var Prelude=PS["Prelude"];var Inc=function(){function Inc(){}Inc.value=new Inc;return Inc}();var Dec=function(){function Dec(){}Dec.value=new Dec;return Dec}();var view=function(model){return Bonsai_Html_Internal.render(Bonsai_Html_Elements.div_(Control_Bind.discard(Control_Bind.discardUnit)(Control_Monad_Free.freeBind)(Bonsai_Html_Internal.text(Data_Show.show(Data_Show.showInt)(model)))(function(){return Control_Bind.discard(Control_Bind.discardUnit)(Control_Monad_Free.freeBind)(Bonsai_Html_Internal.withAttribute(Bonsai_Html_Internal.hasAttributeMarkupF)(Bonsai_Html_Elements.button)(Bonsai_Html_Events.onClick(Inc.value))(Bonsai_Html_Internal.text("+")))(function(){return Bonsai_Html_Internal.withAttribute(Bonsai_Html_Internal.hasAttributeMarkupF)(Bonsai_Html_Elements.button)(Bonsai_Html_Events.onClick(Dec.value))(Bonsai_Html_Internal.text("-"))})})))};var update=function(model){return function(msg){return Bonsai_Core.plainResult(function(){if(msg instanceof Inc){return model+1|0}if(msg instanceof Dec){return model-1|0}throw new Error("Failed pattern match at Examples.Basic.Counter line 22, column 3 - line 28, column 1: "+[msg.constructor.name])}())}};var main=function __do(){var v=Bonsai_DOM.domElementById("examplesBasicCounter")();var __unused=function(dictPartial1){return function($dollar3){return $dollar3}};return __unused()(function(){if(v instanceof Data_Maybe.Just){return function __do(){var v1=Bonsai_Core.program(v.value0)(update)(view)(0)();return Data_Unit.unit}}throw new Error("Failed pattern match at Examples.Basic.Counter line 36, column 3 - line 36, column 69: "+[v.constructor.name])}())()};exports["Inc"]=Inc;exports["Dec"]=Dec;exports["main"]=main;exports["update"]=update;exports["view"]=view})(PS["Examples.Basic.Counter"]=PS["Examples.Basic.Counter"]||{});PS["Examples.Basic.Counter"].main();
